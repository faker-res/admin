(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d9aeec7"],{"0e04":function(t,e,a){},7175:function(t,e,a){"use strict";var i=a("865f"),n=a.n(i);n.a},"7e1e":function(t,e,a){"use strict";a.d(e,"e",function(){return n}),a.d(e,"i",function(){return s}),a.d(e,"j",function(){return o}),a.d(e,"g",function(){return r}),a.d(e,"f",function(){return l}),a.d(e,"h",function(){return c});var i=a("66df"),n=function(){return i["a"].request({url:"get_mborrow_data_o",method:"get"})},s=function(){return i["a"].request({url:"get_management_data",method:"get"})},o=function(){return i["a"].request({url:"get_over_due_static",method:"get"})},r=function(){return i["a"].request({url:"get_level_man",method:"get"})},l=function(){return i["a"].request({url:"get_code_man",method:"get"})},c=function(){return i["a"].request({url:"get_log_list",method:"get"})}},"865f":function(t,e,a){},b295:function(t,e,a){"use strict";var i=a("0e04"),n=a.n(i);n.a},becf:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mt10 mb20"},["super"==t.adminType||-1!=t.authInPage.indexOf("popupsIns")?a("Button",{staticClass:"w130x oldColor mr20",on:{click:function(e){return t.addMessage()}}},[a("Icons",{staticClass:"mr5",attrs:{type:"xinzeng",size:"14"}}),t._v("新增公告")],1):t._e(),"super"==t.adminType||-1!=t.authInPage.indexOf("lanternIns")?a("Button",{staticClass:"w130x oldColor",on:{click:function(e){return t.addCouse()}}},[a("Icons",{staticClass:"mr5",attrs:{type:"xinzeng",size:"14"}}),t._v("新增走马灯")],1):t._e()],1),a("div",{staticClass:"v2-search"},[a("Form",{ref:"searchKey",attrs:{inline:""}},[a("FormItem",{attrs:{label:"状态"}},[a("Select",{staticClass:"w110x",model:{value:t.searchKey.status,callback:function(e){t.$set(t.searchKey,"status",e)},expression:"searchKey.status"}},t._l(t.typeList,function(e,i){return a("Option",{key:i,attrs:{value:e.value}},[t._v(t._s(e.name))])}),1)],1),a("FormItem",{attrs:{label:"标题"}},[a("Input",{staticClass:"w135x",attrs:{placeholder:"关键字查询"},model:{value:t.searchKey.title,callback:function(e){t.$set(t.searchKey,"title",e)},expression:"searchKey.title"}})],1),a("FormItem",{attrs:{label:"操作人"}},[a("Input",{staticClass:"w135x",attrs:{placeholder:"请输入"},model:{value:t.searchKey.who,callback:function(e){t.$set(t.searchKey,"who",e)},expression:"searchKey.who"}})],1),a("FormItem",[a("FormItem",{attrs:{label:"开始时间"}},[a("DatePicker",{staticClass:"s-120",attrs:{type:"date",placeholder:"请选择日期"},model:{value:t.Time[0],callback:function(e){t.$set(t.Time,0,e)},expression:"Time[0]"}})],1),a("FormItem",{attrs:{label:"结束时间"}},[a("DatePicker",{staticClass:"s-120",attrs:{type:"date",placeholder:"请选择日期"},model:{value:t.Time[1],callback:function(e){t.$set(t.Time,1,e)},expression:"Time[1]"}})],1)],1),a("FormItem",[a("Button",{staticClass:"search",attrs:{type:"primary",loading:t.$root.searchBtnLoading},on:{click:t.searchSubmit}},[t._v("查询")])],1)],1)],1),a("div",[a("div",{staticClass:"tab-titel"},["super"==t.adminType||-1!=t.authInPage.indexOf("popupsList")?a("span",{class:"noticePop"==t.showComponent?"cs active":"cs",on:{click:function(e){return t.Pop("noticePop")}}},[t._v("公告弹窗")]):t._e(),"super"==t.adminType||-1!=t.authInPage.indexOf("lanternList")?a("span",{class:"couse"==t.showComponent?"cs active":"cs",on:{click:function(e){return t.Pop("couse")}}},[t._v("走马灯")]):t._e()]),a("div",{staticClass:"tab"},[a(t.showComponent,{ref:"component",tag:"component"})],1)])])},n=[],s=a("768b"),o=a("cebc"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Tables",{attrs:{page:t.table.page,loading:t.$root.tableLoading,value:t.table.data,columns:t.table.columns,total:t.table.total,showSizer:!0},on:{"on-details":t.onDetails,"on-edit":t.edit,"on-delete":t.del,"on-change-status":t.onChangeStatus,"on-page-change":t.onPageChange,"on-page-size-change":t.onPageSizeChange}}),a("Modals",{ref:"ModalsDetial",attrs:{title:"公告详情",width:"480"}},[a("div",{staticClass:"modal-overflow",staticStyle:{width:"480px"},attrs:{slot:"content"},slot:"content"},[a("Form",{ref:"formKey",attrs:{"label-width":150}},[a("FormItem",{attrs:{label:"公告标题："}},[t._v(t._s(t.poplist.title))]),a("FormItem",{attrs:{label:"起止时间："}},[a("span",[t._v(t._s(t.$root.unixTime(t.poplist.publish_at)))]),t._v("--\n          "),a("span",[t._v(t._s(t.$root.unixTime(t.poplist.offline_at)))])]),a("FormItem",{attrs:{label:"弹跳位置："}},[t._v(t._s("1"==t.poplist.bounce_location?"登录前":"2"==t.poplist.bounce_location?"登录后":"不限制"))]),a("FormItem",{attrs:{label:"出现位置："}},[t._v(t._s("1"==t.poplist.appears_location?"首页":"2"==t.poplist.appears_location?"游戏页":"2,1"==t.poplist.appears_location?"游戏页,首页":"首页,游戏页"))]),t.poplist.description?a("FormItem",{attrs:{label:"编辑内容："}},[a("span",{domProps:{innerHTML:t._s(t.poplist.description)}})]):t._e(),t.poplist.pc_pic?a("FormItem",{attrs:{label:"pc："}},[a("view-img",{attrs:{imgSrc:t.poplist.pc_pic}})],1):t._e(),t.poplist.mob_pic?a("FormItem",{attrs:{label:"手机端："}},[a("view-img",{attrs:{imgSrc:t.poplist.mob_pic}})],1):t._e(),a("FormItem",{attrs:{label:"客户端："}},[t._v(t._s(t.poplist.client_type))]),a("FormItem",{attrs:{label:"状态："}},[t._v(t._s("yes"==t.poplist.status?"正常":"停用"))]),a("FormItem",{attrs:{label:"更新时间："}},[t._v(t._s(t.$root.unixTime(t.poplist.updated_at)))]),a("FormItem",{attrs:{label:"创建时间："}},[t._v(t._s(t.$root.unixTime(t.poplist.created_at)))]),a("FormItem",{attrs:{label:"操作人："}},[t._v(t._s(t.poplist.who))])],1)],1)])],1)},l=[],c=a("8593"),p=a("d027"),u=a("cac8"),m=a("c276"),h=a("fa69"),d={name:"noticePop",components:{Tables:h["a"],Modals:p["a"],ViewImg:u["a"]},data:function(){var t=this;this.$createElement;return{adminType:Object(m["l"])(),authInPage:JSON.parse(localStorage.authInPage),table:{total:0,more:!0,page:!0,loading:!0,columns:[{title:"公告标题",key:"title",align:"center"},{title:"弹跳位置",key:"bounce_location",align:"center",render:function(t,e){return t("span",[1==e.row.bounce_location?"登录前":2==e.row.bounce_location?"登录后":"不限制"])}},{title:"出现位置",key:"appears_location",align:"center",render:function(t,e){return t("span",["1"==e.row.appears_location?"首页":"2"==e.row.appears_location?"游戏页":"2,1"==e.row.appears_location?"游戏页,首页":"首页,游戏页"])}},{title:"客户端",key:"client_type",align:"center"},{title:"开始时间",key:"publish_at",align:"center",render:function(e,a){return e("span",{class:"pr20 pl20"},[t.$root.unixTime(a.row.publish_at)])}},{title:"结束时间",key:"offline_at",align:"center",render:function(e,a){return e("span",{class:"pr20 pl20"},[t.$root.unixTime(a.row.offline_at)])}},{title:"操作人",key:"who",align:"center"},{title:"状态",key:"status",align:"center",render:function(t,e){return t("span",{class:"yes"===e.row.status?"":"red-font"},["yes"===e.row.status?"正常":"停用"])}},{title:"操作",align:"center",render:function(e,a){return e("div",[e("a",{class:"ib mr10",style:{display:"super"==t.adminType||-1!=t.authInPage.indexOf("popupsStatusChange")?"inline-block":"none"},on:{click:function(){t.onChangeStatus(a)}}},["yes"==a.row.status?"停用":"正常"]),e("a",{class:"ib mr10",style:{display:"super"==t.adminType||-1!=t.authInPage.indexOf("popupsDetail")?"inline-block":"none"},on:{click:function(){t.onDetails(a)}}},["详情"]),e("a",{class:"ib mr10",style:{display:"super"==t.adminType||-1!=t.authInPage.indexOf("popupsUpt")?"inline-block":"none"},on:{click:function(){t.edit(a)}}},["编辑"]),e("a",{class:"ib mr10",style:{display:"super"==t.adminType||-1!=t.authInPage.indexOf("popupsDel")?"inline-block":"none"},on:{click:function(){t.del(a)}}},["删除"])])}}],data:[]},poplist:"",pagesize:""}},mounted:function(){var t={siteId:this.$root.nowSite.id,type:"popups"};t.startTime=this.$root.formatTimeS(this.$parent.Time[0]),t.endTime=this.$root.formatnightTimeS(this.$parent.Time[1]),this.getData({params:t})},methods:{getData:function(t){var e=this;this.$root.startTableLoading(this),"all"==t.params.status&&delete t.params.status,Object(c["ab"])(t).then(function(t){var a=t.data,i=a.data,n=a.total;e.table.data=i,e.table.total=n})},edit:function(t){this.$router.push({name:"noticeDetial",params:{page:"edit"},query:{id:t.row.id}})},onDetails:function(t){var e=this,a={id:t.row.id,siteId:this.$root.nowSite.id};Object(c["Y"])(a).then(function(t){e.poplist=t.data,e.$refs.ModalsDetial.show()})},del:function(t){var e=this,a={id:t.row.id,siteId:this.$root.nowSite.id};this.$Tip.confirm({content:"您确定删除此公告吗？",onOk:function(){Object(c["X"])(a).then(function(a){200==a.code&&e.table.data.splice(t.index,1)})}})},onChangeStatus:function(t){var e,a=t.row,i=a.id,n=a.siteId,s=a.status;"yes"===s&&(e="您确定停用吗？"),"no"===s&&(e="您确定启用吗？");var o={siteId:n,id:i,status:"yes"==s?"no":"yes"};this.$Tip.confirm({content:e,onOk:function(){Object(c["bb"])(o).then(function(e){200==e.code&&(t.row.status="yes"===s?"no":"yes")})}})},onPageChange:function(t){this.total=0;var e=Object(o["a"])({},this.$parent.searchKey);if(e.siteId=this.$root.nowSite.id,e.limit=this.pagesize,e.type="popups",!this.$root.validateTime(this.$parent.Time))return!1;var a=this.$root.validateTime(this.$parent.Time),i=Object(s["a"])(a,2),n=i[0],r=i[1];for(var l in e.startTime=n&&this.$root.formatTimeS(n),e.endTime=r&&this.$root.formatnightTimeS(r),e)e[l]||delete e[l];this.getData({params:e,query:{page:t}})},onPageSizeChange:function(t){if(this.pagesize=t,this.searchKey=Object(o["a"])({},this.$parent.searchKey),this.searchKey.limit=t,this.searchKey.type="popups",this.searchKey.siteId=this.$root.nowSite.id,!this.$root.validateTime(this.$parent.Time))return!1;var e=this.$root.validateTime(this.$parent.Time),a=Object(s["a"])(e,2),i=a[0],n=a[1];for(var r in this.searchKey.startTime=i&&this.$root.formatTimeS(i),this.searchKey.endTime=n&&this.$root.formatnightTimeS(n),this.searchKey)this.searchKey[r]||delete this.searchKey[r];this.getData({params:this.searchKey})}}},f=d,g=a("2877"),y=Object(g["a"])(f,r,l,!1,null,null,null),b=y.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Tables",{attrs:{page:t.table.page,loading:t.$root.tableLoading,value:t.table.data,columns:t.table.columns,total:t.table.total,showSizer:!0},on:{"on-details":t.onDetails,"on-edit":t.edit,"on-delete":t.del,"on-change-status":t.onChangeStatus,"on-page-change":t.onPageChange,"on-page-size-change":t.onPageSizeChange}}),a("Modals",{ref:"ModalsDetial",attrs:{title:"走马灯详情",width:"600"}},[a("div",{staticClass:"modal-overflow",staticStyle:{width:"600px"},attrs:{slot:"content"},slot:"content"},[a("Form",{ref:"formKey",attrs:{"label-width":200}},[a("FormItem",{attrs:{label:"消息标题："}},[t._v(t._s(t.poplist.title))]),a("FormItem",{attrs:{label:"起止时间："}},[a("span",[t._v(t._s(t.$root.unixTime(t.poplist.publish_at)))]),t._v("--"),a("span",[t._v(t._s(t.$root.unixTime(t.poplist.offline_at)))])]),a("FormItem",{attrs:{label:"文字内容：",width:270}},[t._v(t._s(t.poplist.description))]),a("FormItem",{attrs:{label:"客户端："}},[t._v(t._s(t.poplist.client_type))]),a("FormItem",{attrs:{label:"状态："}},[t._v(t._s("yes"==t.poplist.status?"正常":"停用"))]),a("FormItem",{attrs:{label:"更新时间："}},[t._v(t._s(t.$root.unixTime(t.poplist.updated_at)))]),a("FormItem",{attrs:{label:"创建时间："}},[t._v(t._s(t.$root.unixTime(t.poplist.created_at)))]),a("FormItem",{attrs:{label:"操作人："}},[t._v(t._s(t.poplist.who))])],1)],1)])],1)},v=[],T=(a("7e1e"),{name:"couse",components:{Tables:h["a"],Modals:p["a"]},data:function(){var t=this;this.$createElement;return{adminType:Object(m["l"])(),auhtInPage:JSON.parse(localStorage.authInPage),table:{loading:!0,total:0,more:!0,page:!0,formKey:{},columns:[{title:"消息标题",key:"title",align:"center"},{title:"客户端",key:"client_type",align:"center"},{title:"开始时间",key:"publish_at",align:"center",render:function(e,a){return e("span",{class:"pr20 pl20"},[t.$root.unixTime(a.row.publish_at)])}},{title:"结束时间",key:"offline_at",align:"center",render:function(e,a){return e("span",{class:"pr20 pl20"},[t.$root.unixTime(a.row.offline_at)])}},{title:"操作人",key:"who",align:"center"},{title:"状态",key:"status",align:"center",render:function(t,e){var a="yes"===e.row.status?"":"#FF2626FF";return t("span",{style:{color:a}},["yes"===e.row.status?"正常":"停用"])}},{title:"操作",align:"center",render:function(e,a){return e("div",[e("a",{class:"ib mr10",style:{display:"super"==t.adminType||-1!=t.auhtInPage.indexOf("lanternStatusChange")?"inline-block":"none"},on:{click:function(){t.onChangeStatus(a)}}},["yes"==a.row.status?"停用":"启用"]),e("a",{class:"ib mr10",style:{display:"super"==t.adminType||-1!=t.auhtInPage.indexOf("lanternDetail")?"inline-block":"none"},on:{click:function(){t.onDetails(a)}}},["详情"]),e("a",{class:"ib mr10",style:{display:"super"==t.adminType||-1!=t.auhtInPage.indexOf("lanternUpt")?"inline-block":"none"},on:{click:function(){t.edit(a)}}},["编辑"]),e("a",{class:"ib mr10",style:{display:"super"==t.adminType||-1!=t.auhtInPage.indexOf("lanternDel")?"inline-block":"none"},on:{click:function(){t.del(a)}}},["删除"])])}}],data:[]},poplist:{title:"",publish_at:"",offline_at:"",description:"",client_type:"",status:"",updated_at:"",created_at:"",who:""},pagesize:""}},mounted:function(){var t={siteId:this.$root.nowSite.id,type:"lantern"};t.startTime=this.$root.formatTimeS(this.$parent.Time[0]),t.endTime=this.$root.formatnightTimeS(this.$parent.Time[1]),this.getcouseData({params:t})},methods:{getcouseData:function(t){var e=this;this.$root.startTableLoading(this),"all"==t.params.status&&delete t.params.status,Object(c["P"])(t).then(function(t){var a=t.data,i=a.data,n=a.total;e.table.data=i,e.table.total=n})},edit:function(t){this.$router.push({name:"couseDetial",params:{page:"edit"},query:{id:t.row.id}})},onDetails:function(t){var e=this,a={id:t.row.id,siteId:this.$root.nowSite.id};Object(c["N"])(a).then(function(t){e.poplist=t.data,e.$refs.ModalsDetial.show()})},del:function(t){var e=this,a={id:t.row.id,siteId:this.$root.nowSite.id};this.$Tip.confirm({content:"您确定删除此走马灯吗？",onOk:function(){Object(c["M"])(a).then(function(a){200==a.code&&e.table.data.splice(t.index,1)})}})},onChangeStatus:function(t){var e,a=t.row,i=a.id,n=a.siteId,s=a.status;"yes"===s&&(e="您确定停用吗？"),"no"===s&&(e="您确定启用吗？");var o={siteId:n,id:i,status:"yes"==s?"no":"yes"};this.$Tip.confirm({content:e,onOk:function(){Object(c["Q"])(o).then(function(e){200==e.code&&(t.row.status="yes"===s?"no":"yes")})}})},onPageChange:function(t){this.total=0;var e=Object(o["a"])({},this.$parent.searchKey);if(e.siteId=this.$root.nowSite.id,e.limit=this.pagesize,e.type="lantern",!this.$root.validateTime(this.$parent.Time))return!1;var a=this.$root.validateTime(this.$parent.Time),i=Object(s["a"])(a,2),n=i[0],r=i[1];for(var l in e.startTime=n&&this.$root.formatTimeS(n),e.endTime=r&&this.$root.formatnightTimeS(r),e)e[l]||delete e[l];this.getcouseData({params:e,query:{page:t}})},onPageSizeChange:function(t){if(this.pagesize=t,this.searchKey=Object(o["a"])({},this.$parent.searchKey),this.searchKey.limit=t,this.searchKey.type="lantern",this.searchKey.siteId=this.$root.nowSite.id,!this.$root.validateTime(this.$parent.Time))return!1;var e=this.$root.validateTime(this.$parent.Time),a=Object(s["a"])(e,2),i=a[0],n=a[1];for(var r in this.searchKey.startTime=i&&this.$root.formatTimeS(i),this.searchKey.endTime=n&&this.$root.formatnightTimeS(n),this.searchKey)this.searchKey[r]||delete this.searchKey[r];this.getcouseData({params:this.searchKey})}}}),$=T,w=(a("b295"),Object(g["a"])($,_,v,!1,null,"504674f3",null)),I=w.exports,S=a("83ae"),k={name:"notice",components:{noticePop:b,couse:I,Icons:S["a"]},data:function(){return{adminType:Object(m["l"])(),authInPage:JSON.parse(localStorage.authInPage),typeList:[{value:"all",name:"请选择"},{value:"yes",name:"正常"},{value:"no",name:"停用"}],showComponent:"noticePop",Time:[this.$root.startTime(),this.$root.formatnightTimeS()],searchKey:{status:"all"}}},created:function(){"success"==this.$route.params.page&&(this.showComponent="couse")},methods:{searchSubmit:function(){var t=Object(o["a"])({},this.searchKey);if(t.siteId=this.$root.nowSite.id,t.type="popups",!this.$root.validateTime(this.Time))return!1;var e=this.$root.validateTime(this.Time),a=Object(s["a"])(e,2),i=a[0],n=a[1];for(var r in t.startTime=i&&this.$root.formatTime(i),t.endTime=n&&this.$root.formatnightTimeS(n),t)t[r]||delete t[r];"noticePop"==this.showComponent?this.$refs.component.getData({params:t}):(t.type="lantern",this.$refs.component.getcouseData({params:t}))},Pop:function(t){this.showComponent=t},addMessage:function(){this.$router.push({name:"noticeDetial",params:{page:"create"}})},addCouse:function(){this.$router.push({name:"couseDetial",params:{page:"add"}})}}},O=k,x=(a("7175"),Object(g["a"])(O,i,n,!1,null,"b979a124",null));e["default"]=x.exports}}]);