(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-807ca980"],{"0082":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"v2-edit"},[r("div",{staticClass:"items bb"},[r("div",{staticClass:"title"},[t._v("基础设置")]),r("div",{staticClass:"section backWater"},[r("Form",{ref:"form",attrs:{model:t.formKey,rules:t.rules,"label-width":100}},[r("FormItem",{attrs:{label:"等级名称",prop:"levelName"}},[r("Select",{staticClass:"w320x",attrs:{disabled:"edit"===t.$route.params.page,placeholder:"请选择等级名称"},model:{value:t.formKey.levelName,callback:function(e){t.$set(t.formKey,"levelName",e)},expression:"formKey.levelName"}},t._l(t.refundList,function(e,n){return r("Option",{key:n,attrs:{value:e.levelName}},[t._v(t._s(e.levelName))])}),1)],1),r("FormItem",{attrs:{label:"等级别称",prop:"levelAlias"}},[r("Input",{staticClass:"w320x",attrs:{placeholder:"请输入返水等级别称"},model:{value:t.formKey.levelAlias,callback:function(e){t.$set(t.formKey,"levelAlias",e)},expression:"formKey.levelAlias"}})],1),r("FormItem",{attrs:{label:"最低下注",prop:"lessBetAmount"}},[r("Input",{staticClass:"w320x",attrs:{placeholder:"最低下注金额"},model:{value:t.formKey.lessBetAmount,callback:function(e){t.$set(t.formKey,"lessBetAmount",e)},expression:"formKey.lessBetAmount"}})],1),r("FormItem",{attrs:{label:"最大返水",prop:"maxBonusAmonut"}},[r("Input",{staticClass:"w320x",attrs:{placeholder:"最大返水金额限制"},model:{value:t.formKey.maxBonusAmonut,callback:function(e){t.$set(t.formKey,"maxBonusAmonut",e)},expression:"formKey.maxBonusAmonut"}})],1),r("FormItem",[r("div",{staticStyle:{"padding-left":"100px"}},["no"===t.formKey.default?r("Icon",{staticClass:"pr5",attrs:{type:"md-checkmark-circle",size:"16",color:"#E4E4E4"},on:{click:function(e){return t.setDefault("yes")}}}):r("Icon",{staticClass:"pr5",attrs:{type:"md-checkmark-circle",size:"16",color:"#57a3f3"},on:{click:function(e){return t.setDefault("no")}}}),r("span",{staticClass:"ml5 cs",on:{click:function(e){return t.setDefault("span")}}},[t._v("设为默认？")])],1)])],1)],1)]),r("div",{staticClass:"items mt15 bb"},[r("div",{staticClass:"section"},[r("RefundSelect",{ref:"RefundSelect",attrs:{showParent:!1,data:t.refund},on:{"on-refund-change":t.onRefundChange}})],1)]),r("div",{staticClass:"items mt15"},[r("div",{staticClass:"flex-row p10"},[r("div",{staticClass:"w40 flex-row"},[r("Button",{staticClass:"more-btn",attrs:{type:"primary",loading:t.$root.editBtnLoading},on:{click:t.submit}},[t._v("确认提交")])],1)])])])},a=[],u=(r("ac6a"),r("c5f6"),r("cebc")),o=r("83ae"),s=r("5c64"),i=r("2f62"),d=r("8593"),c=r("2934"),l={name:"sysPreRefundEdit",components:{Icons:o["a"],RefundSelect:s["a"]},computed:Object(u["a"])({},Object(i["d"])({refundList:function(t){return t.info.refundList}})),data:function(){return{formKey:{levelName:"",levelAlias:"",lessBetAmount:null,maxBonusAmonut:"",default:"no",json:""},rules:{levelName:[{required:!0,message:"请输入等级名称",trigger:"blur"}],levelAlias:[{required:!0,message:"请输入等级别称",trigger:"blur"}],lessBetAmount:[{required:!0,message:"请输入最低下注金额",trigger:"blur",pattern:/.+/},{message:"最低下注金额必须为整数",trigger:"blur",pattern:/^[+]{0,1}(\d+)$/}],maxBonusAmonut:[{required:!0,message:"请输入最大返水金额限制",trigger:"blur",pattern:/.+/},{message:"最大返水金额限制必须为整数",trigger:"blur",pattern:/^[+]{0,1}(\d+)$/}]},refund:{}}},mounted:function(){"create"==this.$route.params.page?this.getDefaultRefund():this.getData()},methods:{getDefaultRefund:function(){var t=this,e={siteId:1};Object(c["b"])(e).then(function(e){t.refund=e.data.zore})},getData:function(){var t=this,e=this.$route.query,r=e.id,n=e.limit,a={params:{limit:n},query:{page:1}};Object(d["wb"])(a).then(function(e){var n=e.data.data.filter(function(t){return t.id==r})[0],a=n.levelName,u=n.levelAlias,o=n.lessBetAmount,s=n.maxBonusAmonut;n.list;for(var i in t.formKey={levelName:a,levelAlias:u,lessBetAmount:o,maxBonusAmonut:s,default:n.default},t.formKey.lessBetAmount=Number(o),t.formKey.maxBonusAmonut=Number(s),n.list)n.list[i].list.forEach(function(t){delete t.parent_refund});t.refund=n.list})},onRefundChange:function(t){this.formKey.json=t},submit:function(){var t=this,e=this.$route.params.page;this.$refs.form.validate(function(r){r&&("create"==e?(t.formKey.json||(t.formKey.json=t.$refs.RefundSelect.createData()),Object(d["vb"])(t.formKey).then(function(e){200==e.code&&t.goSysPreList()})):(t.formKey.json||(t.formKey.json=t.$refs.RefundSelect.createData()),t.formKey.id=t.$route.query.id,Object(d["xb"])(t.formKey).then(function(e){200==e.code&&t.goSysPreList()})))})},setDefault:function(t){this.formKey.default="span"==t?"yes"==this.formKey.default?"no":"yes":t},goSysPreList:function(){this.$router.push({name:"sysPreset",params:{stage:"edit"}})}}},f=l,m=(r("bdf5"),r("2877")),p=Object(m["a"])(f,n,a,!1,null,"036d6594",null);e["default"]=p.exports},"134a":function(t,e,r){},"1f86":function(t,e,r){},"5c64":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("collapse",{attrs:{simple:"",value:"1"}},[r("panel",{attrs:{name:"1","hide-arrow":!0}},[r("div",{staticClass:"title",on:{click:function(e){t.open=!t.open}}},[t._v("\n      返水设置\n      "),r("Icon",{directives:[{name:"show",rawName:"v-show",value:!t.open,expression:"!open"}],attrs:{type:"ios-arrow-down",size:"18",color:"#999"}}),r("Icon",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],attrs:{type:"ios-arrow-forward",size:"18",color:"#999"}})],1),r("div",{staticClass:"section p15",attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"btns"},t._l(t._data_,function(e,n){return r("Button",{key:e.name,staticClass:"lottery mr20",class:t.showKey==n?"bd-bg":"bg-or",on:{click:function(e){return t.onselectMenu(n)}}},[t._v(t._s(e.name))])}),1),t._data_[t.showKey]?r("div",{staticClass:"clearfix info pt10"},t._l(t._data_[t.showKey].list,function(e){return r("div",{key:e.name_en,staticClass:"clearfix w20 h40 fl"},[r("div",{staticClass:"label fl"},[t._v(t._s(e.name_cn)+"：")]),t.$route.params.page?r("div",{staticClass:"fl"},[r("InputNumber",{staticClass:"w60xh36",attrs:{step:.1,max:e.parent_refund,min:0},on:{"on-change":t.onChange},model:{value:e.refund,callback:function(r){t.$set(e,"refund",r)},expression:"sub.refund"}}),t.showParent?r("span",{staticClass:"tip"},[r("span",{staticClass:"mr5"},[t._v("上限")]),t._v("\n              "+t._s(e.parent_refund.toFixed(2)||"-")+"\n            ")]):t._e()],1):r("div",[t._v(t._s(e.refund))])])}),0):t._e()])])],1)},a=[],u=r("f499"),o=r.n(u),s=(r("ac6a"),r("cebc")),i=r("83ae"),d=(r("c276"),{components:{Icons:i["a"]},props:{data:{type:[Object,Array],required:!0,default:function(){}},showParent:{type:Boolean,required:!1,default:!1}},data:function(){return{open:!1,showKey:"live"}},computed:{_data_:function(){var t=Object(s["a"])({},this.data);for(var e in t)t[e].list.forEach(function(t){t.refund=+t.refund,t.parent_refund=+t.parent_refund});return t}},methods:{onselectMenu:function(t){this.showKey=t},onChange:function(t){this.createData()},createData:function(){var t={};for(var e in this._data_)this._data_[e].list.forEach(function(e){t[e.name_en]=e.refund});return this.$emit("on-refund-change",o()(t)),o()(t)}}}),c=d,l=(r("6e9d"),r("2877")),f=Object(l["a"])(c,n,a,!1,null,"deef8c56",null),m=f.exports;e["a"]=m},"6e9d":function(t,e,r){"use strict";var n=r("134a"),a=r.n(n);a.a},8593:function(t,e,r){"use strict";r.d(e,"mb",function(){return a}),r.d(e,"rb",function(){return u}),r.d(e,"C",function(){return o}),r.d(e,"k",function(){return s}),r.d(e,"Ab",function(){return i}),r.d(e,"hb",function(){return d}),r.d(e,"I",function(){return c}),r.d(e,"J",function(){return l}),r.d(e,"db",function(){return f}),r.d(e,"gb",function(){return m}),r.d(e,"eb",function(){return p}),r.d(e,"fb",function(){return v}),r.d(e,"l",function(){return h}),r.d(e,"H",function(){return q}),r.d(e,"lb",function(){return b}),r.d(e,"nb",function(){return y}),r.d(e,"jb",function(){return g}),r.d(e,"kb",function(){return C}),r.d(e,"tb",function(){return _}),r.d(e,"wb",function(){return w}),r.d(e,"sb",function(){return x}),r.d(e,"ub",function(){return A}),r.d(e,"vb",function(){return K}),r.d(e,"xb",function(){return D}),r.d(e,"x",function(){return L}),r.d(e,"y",function(){return I}),r.d(e,"z",function(){return k}),r.d(e,"K",function(){return B}),r.d(e,"qb",function(){return S}),r.d(e,"D",function(){return N}),r.d(e,"ob",function(){return $}),r.d(e,"pb",function(){return j}),r.d(e,"L",function(){return R}),r.d(e,"ib",function(){return U}),r.d(e,"U",function(){return M}),r.d(e,"V",function(){return O}),r.d(e,"S",function(){return E}),r.d(e,"T",function(){return P}),r.d(e,"W",function(){return F}),r.d(e,"ab",function(){return z}),r.d(e,"Y",function(){return G}),r.d(e,"X",function(){return J}),r.d(e,"bb",function(){return W}),r.d(e,"Z",function(){return H}),r.d(e,"cb",function(){return Q}),r.d(e,"P",function(){return T}),r.d(e,"N",function(){return V}),r.d(e,"M",function(){return X}),r.d(e,"Q",function(){return Y}),r.d(e,"O",function(){return Z}),r.d(e,"R",function(){return tt}),r.d(e,"u",function(){return et}),r.d(e,"s",function(){return rt}),r.d(e,"r",function(){return nt}),r.d(e,"v",function(){return at}),r.d(e,"t",function(){return ut}),r.d(e,"w",function(){return ot}),r.d(e,"p",function(){return st}),r.d(e,"A",function(){return it}),r.d(e,"n",function(){return dt}),r.d(e,"o",function(){return ct}),r.d(e,"B",function(){return lt}),r.d(e,"m",function(){return ft}),r.d(e,"q",function(){return mt}),r.d(e,"i",function(){return pt}),r.d(e,"h",function(){return vt}),r.d(e,"j",function(){return ht}),r.d(e,"f",function(){return qt}),r.d(e,"g",function(){return bt}),r.d(e,"e",function(){return yt}),r.d(e,"a",function(){return gt}),r.d(e,"d",function(){return Ct}),r.d(e,"c",function(){return _t}),r.d(e,"b",function(){return wt}),r.d(e,"zb",function(){return xt}),r.d(e,"yb",function(){return At}),r.d(e,"F",function(){return Kt}),r.d(e,"E",function(){return Dt}),r.d(e,"G",function(){return Lt});var n=r("66df"),a=function(t){var e=t.params,r=t.query,a={url:"siteManagementList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},u=function(t){var e={url:"/menuSort",method:"post",data:t};return n["a"].request(e)},o=function(t){var e={url:"/menuDel",method:"post",data:t};return n["a"].request(e)},s=function(t){var e={url:"/menuAdd",method:"post",data:t};return n["a"].request(e)},i=function(t){var e={url:"/menuUpdate",method:"post",data:t};return n["a"].request(e)},d=function(t){var e={url:"/permissionSearchUri",method:"post",data:t};return n["a"].request(e)},c=function(t){var e={url:"/permissionList",method:"get",data:t};return n["a"].request(e)},l=function(){var t={url:"/roleList",method:"get"};return n["a"].request(t)},f=function(t){var e={url:"/roleAdd",method:"post",data:t};return n["a"].request(e)},m=function(t){var e={url:"/roleUpdate",method:"post",data:t};return n["a"].request(e)},p=function(t){var e={url:"/roleDel",method:"post",data:t};return n["a"].request(e)},v=function(t){var e={url:"/roleDetail",method:"post",data:t};return n["a"].request(e)},h=function(t){var e={url:"/adminModifyStatus",method:"get",params:t};return n["a"].request(e)},q=function(t){var e=t.params,r=t.query,a={url:"/adminLogList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},b=function(t){var e={url:"siteManagementDetail",method:"get",params:t};return n["a"].request(e)},y=function(t){var e={url:"siteManagementUpdate",method:"post",data:t};return n["a"].request(e)},g=function(t){var e={url:"siteManagementCreate",method:"post",data:t};return n["a"].request(e)},C=function(){var t={url:"siteManagementDbId",method:"get"};return n["a"].request(t)},_=function(t){var e=t.params,r=t.query,a={url:"systemMemberLevelList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},w=function(t){var e=t.params,r=t.query,a={url:"systemMemberRefundLevelList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},x=function(t){var e={url:"systemMemberLevelAdd",method:"post",data:t};return n["a"].request(e)},A=function(t){var e={url:"systemMemberLevelUp",method:"post",data:t};return n["a"].request(e)},K=function(t){var e={url:"systemMemberRefundLevelAdd",method:"post",data:t};return n["a"].request(e)},D=function(t){var e={url:"systemMemberRefundLevelUp",method:"post",data:t};return n["a"].request(e)},L=function(t){var e={url:"blackList",method:"get",params:t};return n["a"].request(e)},I=function(t){var e={url:"blackListCreate",method:"post",data:t};return n["a"].request(e)},k=function(t){var e={url:"blackListDelete",method:"get",params:t};return n["a"].request(e)},B=function(t){var e={url:"/slideList",method:"get",params:t};return n["a"].request(e)},S=function(t){var e={url:"slideIns",method:"post",data:t};return n["a"].request(e)},N=function(t){var e={url:"/slideDel",method:"get",params:t};return n["a"].request(e)},$=function(t){var e={url:"/slideImgInfo",method:"get",params:t};return n["a"].request(e)},j=function(t){var e={url:"slideImgInfoUpt",method:"post",data:t};return n["a"].request(e)},R=function(t){var e=t.params,r=t.query,a={url:"inBox",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},U=function(t){var e=t.params,r=t.query,a={url:"outBox",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},M=function(t){var e={url:"letterReply",method:"post",data:t};return n["a"].request(e)},O=function(t){var e={url:"letterSend",method:"post",data:t};return n["a"].request(e)},E=function(t){var e={url:"letterDel",method:"post",data:t};return n["a"].request(e)},P=function(t){var e={url:"/letterDetail",method:"get",params:t};return n["a"].request(e)},F=function(t){var e={url:"/letterUptRead",method:"get",params:t};return n["a"].request(e)},z=function(t){var e=t.params,r=t.query,a={url:"popupsList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},G=function(t){var e={url:"popupsDetail",method:"get",params:t};return n["a"].request(e)},J=function(t){var e={url:"/popupsDel",method:"get",params:t};return n["a"].request(e)},W=function(t){var e={url:"popupsStatusChange",method:"post",data:t};return n["a"].request(e)},H=function(t){var e={url:"popupsIns",method:"post",data:t};return n["a"].request(e)},Q=function(t){var e={url:"popupsUpt",method:"post",data:t};return n["a"].request(e)},T=function(t){var e=t.params,r=t.query,a={url:"lanternList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},V=function(t){var e={url:"lanternDetail",method:"get",params:t};return n["a"].request(e)},X=function(t){var e={url:"/lanternDel",method:"get",params:t};return n["a"].request(e)},Y=function(t){var e={url:"lanternStatusChange",method:"post",data:t};return n["a"].request(e)},Z=function(t){var e={url:"lanternIns",method:"post",data:t};return n["a"].request(e)},tt=function(t){var e={url:"lanternUpt",method:"post",data:t};return n["a"].request(e)},et=function(t){var e=t.params,r=t.query,a={url:"articleList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},rt=function(t){var e={url:"articleDetail",method:"get",params:t};return n["a"].request(e)},nt=function(t){var e={url:"/articleDel",method:"get",params:t};return n["a"].request(e)},at=function(t){var e={url:"articleStatusChange",method:"post",data:t};return n["a"].request(e)},ut=function(t){var e={url:"articleIns",method:"post",data:t};return n["a"].request(e)},ot=function(t){var e={url:"articleUpt",method:"post",data:t};return n["a"].request(e)},st=function(t){var e=t.params,r=t.query,a={url:"adminNewList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},it=function(t){var e={url:"changePassWord",method:"post",data:t};return n["a"].request(e)},dt=function(t){var e={url:"adminNewDelete",method:"post",data:t};return n["a"].request(e)},ct=function(t){var e={url:"adminNewDetail",method:"post",data:t};return n["a"].request(e)},lt=function(t){var e={url:"copyAdmin",method:"post",data:t};return n["a"].request(e)},ft=function(t){var e={url:"adminNewAdd",method:"post",data:t};return n["a"].request(e)},mt=function(t){var e={url:"adminNewUpdate",method:"post",data:t};return n["a"].request(e)},pt=function(t){var e=t.params,r=t.query,a={url:"activityList",method:"post",data:e};return r&&(a.params=r),n["a"].request(a)},vt=function(t){var e={url:"activityIns",method:"post",data:t};return n["a"].request(e)},ht=function(t){var e={url:"activityUpt",method:"post",data:t};return n["a"].request(e)},qt=function(t){var e={url:"/activityDel",method:"get",params:t};return n["a"].request(e)},bt=function(t){var e={url:"/activityDetail",method:"get",params:t};return n["a"].request(e)},yt=function(t){var e={url:"activityChangeStatus",method:"post",data:t};return n["a"].request(e)},gt=function(t){var e={url:"/activityBySort",method:"get",params:t};return n["a"].request(e)},Ct=function(t){var e={url:"/activityCateList",method:"get",params:t};return n["a"].request(e)},_t=function(t){var e={url:"activityCateIns",method:"post",data:t};return n["a"].request(e)},wt=function(t){var e={url:"/activityCateDel",method:"get",params:t};return n["a"].request(e)},xt=function(t){var e={url:"systemSiteGameUp",method:"post",data:t};return n["a"].request(e)},At=function(t){var e={url:"systemSiteGameList",method:"post",data:t};return n["a"].request(e)},Kt=function(t){var e={url:"gameConfigList",method:"post",data:t};return n["a"].request(e)},Dt=function(t){var e={url:"/gameConfigClassification",method:"get",params:t};return n["a"].request(e)},Lt=function(t){var e={url:"/gameConfigUpGameStatus",method:"post",data:t};return n["a"].request(e)}},bdf5:function(t,e,r){"use strict";var n=r("1f86"),a=r.n(n);a.a}}]);