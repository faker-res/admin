(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ead5cff"],{"0ef3":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Table",{ref:"tablesMain",attrs:{data:e.insideTableData,columns:e.insideColumns,stripe:e.stripe,border:e.border,"show-header":e.showHeader,width:e.width,height:e.height,loading:e.loading,"disabled-hover":e.disabledHover,"highlight-row":e.highlightRow,"row-class-name":e.rowClassName,size:e.size,"no-data-text":e.noDataText,"no-filtered-data-text":e.noFilteredDataText,draggable:e.draggable},on:{"on-current-change":e.onCurrentChange,"on-select":e.onSelect,"on-select-cancel":e.onSelectCancel,"on-select-all":e.onSelectAll,"on-selection-change":e.onSelectionChange,"on-sort-change":e.onSortChange,"on-filter-change":e.onFilterChange,"on-row-click":e.onRowClick,"on-row-dblclick":e.onRowDblclick,"on-expand":e.onExpand,"on-drag-drop":e.onDragDrop}},[e._t("header",null,{slot:"header"}),e._t("footer",null,{slot:"footer"}),e._t("loading",null,{slot:"loading"})],2),a("Row",{staticStyle:{"margin-top":"15px"}},[e.more?a("Col",{attrs:{span:"12"}},[e._t("more")],2):e._e(),a("Col",{attrs:{span:e.more?12:24}},[e.page?a("Page",{attrs:{total:e.total,showTotal:"",current:e.currentpage,"show-sizer":e.showSizer,styles:e.pageStyle,"page-size":e.pageSize,"page-size-opts":e.pageSizeOpts},on:{"update:current":function(t){e.currentpage=t},"on-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange}}):e._e(),e.pageFixShow?a("span",{staticClass:"page-fix"},[e._v("10条/页")]):e._e()],1)],1),a("a",{staticStyle:{display:"none",width:"0px",height:"0px"},attrs:{id:"hrefToExportTable"}})],1)},i=[],n=(a("ac6a"),a("5176")),s=a.n(n),o=(a("c5f6"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tables-edit-outer"},[e.isEditting?a("div",{staticClass:"tables-editting-con"},[a("Input",{staticClass:"tables-edit-input",attrs:{value:e.value},on:{input:e.handleInput}}),a("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:e.saveEdit}},[a("Icon",{attrs:{type:"md-checkmark"}})],1),a("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:e.canceltEdit}},[a("Icon",{attrs:{type:"md-close"}})],1)],1):a("div",{staticClass:"tables-edit-con"},[a("span",{staticClass:"value-con"},[e._v(e._s(e.value))]),e.editable?a("Button",{staticClass:"tables-edit-btn",staticStyle:{padding:"2px 4px"},attrs:{type:"text"},on:{click:e.startEdit}},[a("Icon",{attrs:{type:"md-create"}})],1):e._e()],1)])}),r=[],c={name:"TablesEdit",props:{value:[String,Number],edittingCellId:String,params:Object,editable:Boolean},computed:{isEditting:function(){return this.edittingCellId==="editting-".concat(this.params.index,"-").concat(this.params.column.key)}},methods:{handleInput:function(e){this.$emit("input",e)},startEdit:function(){this.$emit("on-start-edit",this.params)},saveEdit:function(){this.$emit("on-save-edit",this.params)},canceltEdit:function(){this.$emit("on-cancel-edit",this.params)}}},d=c,u=(a("4974"),a("2877")),m=Object(u["a"])(d,o,r,!1,null,null,null),h=m.exports,p={delete:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-delete",t)}}},"删除")},list:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-list",t)}}},"游戏列表")},reply:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-reply",t)}}},"回复")},edit:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-edit",t)}}},"编辑")},details:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-details",t)}}},"详情")},status:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-change-status",t)}}},"yes"===t.row.status?"停用":"启用")},frost:function(e,t,a){return e("a",{style:{margin:"0 5px",color:t.row.agent_type-1>0?"#2D8CF0":"#918b8b"},on:{click:function(){a.$emit("on-change-frost",t)}}},1===t.row.admin_status?"解冻":"冻结")},frostStatus:function(e,t,a){return e("a",{style:{margin:"0 5px",color:t.row.agent_type-1>0?"#2D8CF0":"#918b8b"},on:{click:function(){a.$emit("on-change-frostStatus",t)}}},"yes"===t.row.status?"停用":"启用")},odds:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-check-odds",t)}}},"赔率")},remove:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-remove",t)}}},"移出黑名单")},initialize:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-initialize",t)}}},"初始化")},classStatus:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-change-classStatus",t)}}},"yes"===t.row.classStatus?"停用":"启用")},preview:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-preview",t)}}},"预览")},look:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-look",t)}}},"查看")}},v=p,f=(a("30d9"),{name:"Tables",props:{value:{type:[Array,Number,String],default:function(){return[]}},columns:{type:Array,default:function(){return[]}},showSizer:{type:Boolean,default:!0},size:String,width:{type:[Number,String]},height:{type:[Number,String]},stripe:{type:Boolean,default:!0},border:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function,default:function(){return""}},context:{type:Object},noDataText:{type:String},noFilteredDataText:{type:String},disabledHover:{type:Boolean},loading:{type:Boolean,default:!1},page:{type:Boolean,default:!0},total:{type:[Number,String],default:0},pageSizeOpts:{type:[Array],default:function(){return[20,30,40,50]}},editable:{type:Boolean,default:!1},more:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},pageFixShow:{type:Boolean,default:!1}},data:function(){return{pageStyle:{textAlign:"right"},insideColumns:[],insideTableData:[],edittingCellId:"",edittingText:"",currentpage:1}},computed:{pageSize:function(){return this.pageSizeOpts[0]}},watch:{columns:function(e){this.handleColumns(e)},value:function(e){this.handleTableData()}},mounted:function(){this.showPageFix(),this.handleColumns(this.columns),this.handleTableData()},methods:{suportEdit:function(e,t){var a=this;return e.render=function(e,t){return e(h,{props:{params:t,value:a.insideTableData[t.index][t.column.key],edittingCellId:a.edittingCellId,editable:a.editable},on:{input:function(e){a.edittingText=e},"on-start-edit":function(e){a.edittingCellId="editting-".concat(e.index,"-").concat(e.column.key),a.$emit("on-start-edit",e)},"on-cancel-edit":function(e){a.edittingCellId="",a.$emit("on-cancel-edit",e)},"on-save-edit":function(e){a.value[e.row.initRowIndex][e.column.key]=a.edittingText,a.$emit("input",a.value),a.$emit("on-save-edit",s()(e,{value:a.edittingText})),a.edittingCellId=""}}})},e},surportHandle:function(e){var t=this,a=e.options||[],l=[];a.forEach(function(e){v[e]&&l.push(v[e])});var i=e.button?[].concat(l,e.button):l;return e.render=function(e,a){return a.tableData=t.value,e("div",i.map(function(l){return l(e,a,t)}))},e},handleColumns:function(e){var t=this;this.insideColumns=e.map(function(e,a){var l=e;return l.editable&&(l=t.suportEdit(l,a)),"handle"===l.key&&(l=t.surportHandle(l)),l})},handleClear:function(e){""===e.target.value&&(this.insideTableData=this.value)},handleTableData:function(){this.insideTableData=this.value.map(function(e,t){var a=e;return a.initRowIndex=t,a})},exportCsv:function(e){this.$refs.tablesMain.exportCsv(e)},clearCurrentRow:function(){this.$refs.talbesMain.clearCurrentRow()},onCurrentChange:function(e,t){this.$emit("on-current-change",e,t)},onSelect:function(e,t){this.$emit("on-select",e,t)},onSelectCancel:function(e,t){this.$emit("on-select-cancel",e,t)},onSelectAll:function(e){this.$emit("on-select-all",e)},onSelectionChange:function(e){this.$emit("on-selection-change",e)},onSortChange:function(e,t,a){this.$emit("on-sort-change",e,t,a)},onFilterChange:function(e){this.$emit("on-filter-change",e)},onRowClick:function(e,t){this.$emit("on-row-click",e,t)},onRowDblclick:function(e,t){this.$emit("on-row-dblclick",e,t)},onExpand:function(e,t,a){this.$emit("on-expand",e,t,a)},onPageChange:function(e){this.$emit("on-page-change",e)},onPageSizeChange:function(e){this.$emit("on-page-size-change",e)},onDragDrop:function(e,t){this.$emit("on-drag-drop",e,t)},setPage:function(){this.currentpage=1},showPageFix:function(){this.pageFixShow&&(this.pageStyle={textAlign:"right",marginRight:"95.35px"})}}}),b=f,g=(a("1e5b"),Object(u["a"])(b,l,i,!1,null,"a62d0182",null));t["a"]=g.exports},"1e5b":function(e,t,a){"use strict";var l=a("35ee"),i=a.n(l);i.a},2178:function(e,t,a){},"30d9":function(e,t,a){},"35ee":function(e,t,a){},4092:function(e,t,a){},4475:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["单选"===e.mode?a("div",[a("Select",{class:e.className,style:e._width,attrs:{clearable:e.clearable,disabled:e.disabled,placeholder:e.placeholder},model:{value:e.singleData.levelLabel,callback:function(t){e.$set(e.singleData,"levelLabel",t)},expression:"singleData.levelLabel"}},e._l(e.levelList,function(t){return a("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(!!t.levelAlias&&(!e.choiceShow&&t.levelAlias)||t.levelName))])}),1)],1):"多选"===e.mode?a("div",[a("Select",{ref:"selector",class:e.className,style:e._width,attrs:{clearable:e.clearable,multiple:"",disabled:e.disabled,placeholder:e.placeholder},model:{value:e.multipleData.levelLabel,callback:function(t){e.$set(e.multipleData,"levelLabel",t)},expression:"multipleData.levelLabel"}},[e.allModal?a("Option",{attrs:{value:"all"}},[e._v("全部")]):e._e(),e._l(e.levelList,function(t){return a("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(t.levelAlias||t.levelName))])})],2)],1):"单选全部"===e.mode?a("div",[a("Select",{class:e.className,style:e._width,attrs:{clearable:e.clearable,disabled:e.disabled,placeholder:e.placeholder},model:{value:e.singleData.levelLabel,callback:function(t){e.$set(e.singleData,"levelLabel",t)},expression:"singleData.levelLabel"}},[e.allModal?a("Option",{attrs:{value:"all"}},[e._v("全部")]):e._e(),e._l(e.levelList,function(t){return a("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(t.levelAlias||t.levelName))])})],2)],1):e._e()])},i=[],n=a("cebc"),s=(a("ac6a"),a("28a5"),a("96cf"),a("3b8d")),o=(a("6762"),a("2fdb"),a("c5f6"),a("8194")),r=a("f28b"),c={props:{choiceShow:{type:Boolean,default:!1},allModal:{type:Boolean,default:!1},mode:{type:String,default:"单选"},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},width:{type:[String,Number],default:260},levelType:{type:String},className:{type:String}},data:function(){return{singleData:{levelLabel:""},multipleData:{levelLabel:[]},levelList:[],subType:""}},computed:{_width:function(){return"width:"+this.width+"px"}},watch:{"multipleData.levelLabel":function(e,t){!t.includes("all")&&e.includes("all")&&(this.multipleData.levelLabel=["all"]),t.includes("all")&&e.length>1&&this.multipleData.levelLabel.splice(e.indexOf("all"),1)},singleData:{handler:function(e,t){this.singleChange(e)},deep:!0},multipleData:{handler:function(e,t){this.multipleChange(e)},deep:!0},allModal:function(){this.checkAll()}},mounted:function(){this.checkAll()},methods:{checkAll:function(){},setDefaultLevel:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,a){var l,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"单选"===this.mode?(this.singleData.levelLabel=+t,this.singleData.levelName=a,this.$set(this.singleData,"levelLabel",+t)):"string"==typeof t?(l=t.split(","),l.forEach(function(e){i.multipleData.levelLabel.push(Number(e))})):this.multipleData.levelLabel=t;case 1:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,a){var l,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("member"!==this.levelType){e.next=11;break}if("addLevel"!==this.subType){e.next=6;break}this.levelList=this.$store.state.info.memberLevelList,this.subType="",e.next=9;break;case 6:return e.next=8,this.getMemberLevel(t,"select");case 8:this.levelList=e.sent;case 9:e.next=18;break;case 11:if("agency"!==this.levelType){e.next=17;break}return e.next=14,this.getAgencyLevel(t,"select");case 14:this.levelList=e.sent,e.next=18;break;case 17:"refund"===this.levelType&&(this.levelList=this.$store.state.info.memberLevelList);case 18:return a&&(l=a.levelLabel,i=a.levelName,this.setDefaultLevel(l,i)),e.abrupt("return",this.levelList);case 20:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),singleChange:function(e){if(this.multipleData.levelLabel.includes("all")){var t={levelLabel:[],levelName:[]},a=[];this.levelList.forEach(function(e){t.levelLabel.push(e.levelLabel),t.levelName.push(e.levelName),a.push(e.levelLabel)}),this.$emit("on-level-change",t)}else{var l=Object(n["a"])({},this.singleData);this.levelList.forEach(function(t){e.levelLabel==t.levelLabel&&(l.levelName=t.levelName,l.id=t.id)}),this.$emit("on-level-change",l)}},multipleChange:function(e){if(this.multipleData.levelLabel.includes("all")){var t={levelLabel:[],levelName:[]},a=[];this.levelList.forEach(function(e){t.levelLabel.push(e.levelLabel),t.levelName.push(e.levelName),a.push(e.levelLabel)}),this.$emit("on-level-change",t)}else{var l=Object(n["a"])({},this.multipleData);l.levelName=[],this.levelList.forEach(function(e){l.levelLabel&&l.levelLabel.forEach(function(t){t==e.levelLabel&&l.levelName.push(e.levelName)})}),this.$emit("on-level-change",l)}},getMemberLevel:function(e,t){var a=this;return Object(o["e"])({siteId:e,purpose:t}).then(function(e){return a.$emit("sendLevelName",e.data),e.data})},getAgencyLevel:function(e,t){return Object(r["l"])({siteId:e,purpose:t}).then(function(e){return e.data})},reset:function(e){"undefined"===typeof e?this.multipleData.levelLabel=[]:"single"===e&&(this.singleData.levelLabel="")},changeSubType:function(e){this.subType=e}}},d=c,u=a("2877"),m=Object(u["a"])(d,l,i,!1,null,null,null),h=m.exports;t["a"]=h},4663:function(e,t,a){},4904:function(e,t,a){},4974:function(e,t,a){"use strict";var l=a("2178"),i=a.n(l);i.a},5551:function(e,t,a){"use strict";var l=a("9d13"),i=a.n(l);i.a},"590e":function(e,t,a){"use strict";var l=a("4092"),i=a.n(l);i.a},6669:function(e,t,a){"use strict";var l=a("4663"),i=a.n(l);i.a},"9d13":function(e,t,a){},afa2:function(e,t,a){"use strict";var l=a("c5eb"),i=a.n(l);i.a},c5eb:function(e,t,a){},e3bb:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"v2-button mt10"},["super"==e.adminType||-1!=e.authInPage.indexOf("memberLevelCreate")?a("Button",{on:{click:e.createMemberlevel}},[e._v("添加会员等级")]):e._e(),"super"==e.adminType||-1!=e.authInPage.indexOf("soonModifyMemberList")?a("Button",{on:{click:e.modifyMemberModal}},[e._v("修改会员等级")]):e._e(),"super"==e.adminType||-1!=e.authInPage.indexOf("getBoundPaymentChannel")?a("Button",{on:{click:e.paymentListModal}},[e._v("支付通道详情")]):e._e()],1),a("div",{staticClass:"v2-table"},[a("Tables",{attrs:{columns:e.table.columns,loading:e.$root.tableLoading,value:e.table.data,page:e.table.page},on:{"on-edit":e.onEdit,"on-details":e.onDetail,"on-change-status":e.changeStatus}})],1),a("ModifyMember",{ref:"ModifyMember"}),a("PaymentList",{ref:"paymentList"}),a("PaymentModify",{ref:"paymentModify"}),a("Modals",{ref:"siteLevelModal",attrs:{title:"create"===e.siteLevelModalTitle?"添加会员等级":"编辑会员等级",width:760}},[a("div",{staticClass:"modal-overflow v2-form-wrapper pt10",attrs:{slot:"content"},slot:"content"},[a("Form",{key:e.siteLevelModalTitle,ref:"memberLevelForm",staticStyle:{width:"700px"},attrs:{model:e.memberLevelForm,rules:e.memberLevelRule,"label-width":260}},[a("FormItem",{attrs:{label:"会员等级",prop:"levelLabel"}},[a("LevelSelect",{ref:"LevelSelect",staticClass:"w260x",attrs:{levelType:"member",choiceShow:!0,disabled:"create"!==e.siteLevelModalTitle},on:{"on-level-change":e.levelChange}})],1),a("FormItem",{attrs:{label:"等级别称",prop:"levelAlias"}},[a("Input",{staticClass:"w260x",attrs:{placeholder:"请输入等级别称"},model:{value:e.memberLevelForm.levelAlias,callback:function(t){e.$set(e.memberLevelForm,"levelAlias",t)},expression:"memberLevelForm.levelAlias"}})],1),a("FormItem",{attrs:{label:"最小存款",prop:"minPay"}},[a("Input",{staticClass:"w260x",attrs:{placeholder:"请输入最小存款"},model:{value:e.memberLevelForm.minPay,callback:function(t){e.$set(e.memberLevelForm,"minPay",t)},expression:"memberLevelForm.minPay"}})],1),a("FormItem",{attrs:{label:"打码倍数",prop:"betAmount"}},[a("Input",{staticClass:"w260x",attrs:{placeholder:"最小存款打码倍数，整数，建议0-30"},model:{value:e.memberLevelForm.betAmount,callback:function(t){e.$set(e.memberLevelForm,"betAmount",t)},expression:"memberLevelForm.betAmount"}})],1),a("FormItem",{attrs:{label:"最大单笔",prop:"maxDeposit"}},[a("Input",{staticClass:"w260x",attrs:{placeholder:"请输最大单笔"},model:{value:e.memberLevelForm.maxDeposit,callback:function(t){e.$set(e.memberLevelForm,"maxDeposit",t)},expression:"memberLevelForm.maxDeposit"}})],1),a("FormItem",{attrs:{label:"取款打码倍数",prop:"multiple"}},[a("Input",{staticClass:"w260x",attrs:{placeholder:"整数"},model:{value:e.memberLevelForm.multiple,callback:function(t){e.$set(e.memberLevelForm,"multiple",t)},expression:"memberLevelForm.multiple"}})],1),a("FormItem",{attrs:{label:"彩金奖励",prop:"giftBonus"}},[a("Input",{staticClass:"w260x",attrs:{placeholder:"请输入彩金奖励"},model:{value:e.memberLevelForm.giftBonus,callback:function(t){e.$set(e.memberLevelForm,"giftBonus",t)},expression:"memberLevelForm.giftBonus"}})],1),a("FormItem",{staticClass:"ivu-form-item",attrs:{label:"等级状态"}},[a("Select",{staticClass:"w260x",attrs:{placeholder:"请选择"},model:{value:e.memberLevelForm.status,callback:function(t){e.$set(e.memberLevelForm,"status",t)},expression:"memberLevelForm.status"}},[a("Option",{attrs:{value:"yes"}},[e._v("正常")]),a("Option",{attrs:{value:"no"}},[e._v("停用")])],1)],1),a("FormItem",{staticClass:"clearfix h20"},[a("div",{staticClass:"fl"},["no"===e.memberLevelForm.default?a("Icon",{staticClass:"pr5",attrs:{type:"md-checkmark-circle",size:"16",color:"#E4E4E4"},on:{click:function(t){return e.setDefault("yes")}}}):a("Icon",{staticClass:"pr5",staticStyle:{"margin-top":"2px"},attrs:{type:"md-checkmark-circle",size:"16",color:"#57a3f3"},on:{click:function(t){return e.setDefault("no")}}})],1),a("span",{staticClass:"fl ib cs",on:{click:function(t){return e.setDefault("span")}}},[e._v("设为默认？")])]),a("FormItem",[a("Button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s("create"===e.siteLevelModalTitle?"确认添加":"确认修改"))])],1)],1)],1)]),a("Modals",{ref:"levelDispatchModal",attrs:{title:e.dispatchTitle,width:1060}},[a("div",{staticClass:"pt10",attrs:{slot:"content"},slot:"content"},[a("Form",{ref:"levelDispatchForm",staticStyle:{width:"1060px"},attrs:{model:e.levelDispatchForm,rules:e.levelDispatchRules,"label-width":360}},[a("FormItem",{attrs:{label:"最小存款",prop:"minPay"}},[a("Input",{staticClass:"w370x",model:{value:e.levelDispatchForm.minPay,callback:function(t){e.$set(e.levelDispatchForm,"minPay",t)},expression:"levelDispatchForm.minPay"}})],1),a("FormItem",{attrs:{label:"打码倍数",prop:"damabeishu"}},[a("Input",{staticClass:"w370x",model:{value:e.levelDispatchForm.damabeishu,callback:function(t){e.$set(e.levelDispatchForm,"damabeishu",t)},expression:"levelDispatchForm.damabeishu"}})],1),a("FormItem",{attrs:{label:"最大单笔",prop:"maxSingle"}},[a("Input",{staticClass:"w370x",model:{value:e.levelDispatchForm.maxSingle,callback:function(t){e.$set(e.levelDispatchForm,"maxSingle",t)},expression:"levelDispatchForm.maxSingle"}})],1),a("FormItem",{attrs:{label:"支付方式",prop:"paymentMethods"}},[a("paymentRadio",{staticStyle:{width:"370px"},attrs:{methodsList:e.methodsList,defaultChecked:e.defaultChecked}})],1),a("FormItem",[a("Button",{staticClass:"bg white-font white-font",staticStyle:{width:"370px"},on:{click:e.dispatchLevelSubmit}},[e._v("提交保存")])],1)],1)],1)])],1)},i=[],n=(a("ac6a"),a("cebc")),s=(a("28a5"),a("7f7f"),a("83ae")),o=a("a4d8"),r=a("d027"),c=a("fa69"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modals",{ref:"paymentListModal",attrs:{title:"支付通道详情",width:1150}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("Tabs",{attrs:{type:"card",value:"pc"}},[a("TabPane",{attrs:{label:"电脑端",name:"pc"}},[a("div",{staticClass:"scroll",style:{height:e.pcList.length?"659px":"100px"}},[a("div",{staticClass:"paymentTable"},[a("div",{staticClass:"head clearfix"},[a("div",{staticClass:"th"},[e._v("等级")]),a("div",{staticClass:"th"},[e._v("支付方式")]),a("div",{staticClass:"th"},[e._v("通道一")]),a("div",{staticClass:"th"},[e._v("通道二")]),a("div",{staticClass:"th"},[e._v("通道三")]),a("div",{staticClass:"th"},[e._v("通道四")]),a("div",{staticClass:"th last"},[e._v("通道五")])]),e.pcList.length?a("div",{staticClass:"main"},e._l(e.pcList,function(t){return a("div",{key:t.lvl_name},[e._l(t.payment_info,function(l,i){return t.payment_info.length?a("div",{key:"111"+l.payment_class,staticClass:"info clearfix"},[a("div",{staticClass:"td",class:{"other-td":0!==i},style:{lineHeight:0===i&&t.payment_info.length>1?40*t.payment_info.length+"px":""}},[e._v(e._s(t.lvl_name||t.lvl_alias_name))]),a("div",{staticClass:"td"},[e._v(e._s(l.payment_class))]),e._l(l.payment_name,function(t,i){return a("div",{key:"222"+i,staticClass:"td",class:{last:i===l.payment_name.length-1}},[e._v(e._s(t))])}),e._l(5-l.payment_name.length,function(e,t){return a("div",{key:t+"xxxx",staticClass:"td empty",class:{last:t===4-l.payment_name.length}})})],2):e._e()}),t.payment_info.length?e._e():a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"td"},[e._v(e._s(t.lvl_name||t.lvl_alias_name))]),e._l(6,function(e,t){return a("div",{key:t+"yyyyy",staticClass:"td empty",class:{last:5===t}})})],2)],2)}),0):a("div",{staticClass:"no-data"},[e._v("暂无数据")])])])]),a("TabPane",{attrs:{label:"手机端",name:"mobile"}},[a("div",{staticClass:"scroll",style:{height:e.h5List.length?"659px":"100px"}},[a("div",{staticClass:"paymentTable"},[a("div",{staticClass:"head clearfix"},[a("div",{staticClass:"th"},[e._v("等级")]),a("div",{staticClass:"th"},[e._v("支付方式")]),a("div",{staticClass:"th"},[e._v("通道一")]),a("div",{staticClass:"th"},[e._v("通道二")]),a("div",{staticClass:"th"},[e._v("通道三")]),a("div",{staticClass:"th"},[e._v("通道四")]),a("div",{staticClass:"th last"},[e._v("通道五")])]),e.h5List.length?a("div",{staticClass:"main h5"},e._l(e.h5List,function(t){return a("div",{key:t.lvl_name},[e._l(t.payment_info,function(l,i){return t.payment_info.length?a("div",{key:"333"+l.payment_class,staticClass:"info clearfix"},[a("div",{staticClass:"td",class:{"other-td":0!==i},style:{lineHeight:0===i&&t.payment_info.length>1?40*t.payment_info.length+"px":""}},[e._v(e._s(t.lvl_name||t.lvl_alias_name))]),a("div",{staticClass:"td"},[e._v(e._s(l.payment_class))]),e._l(l.payment_name,function(t,i){return a("div",{key:"444"+i,staticClass:"td",class:{last:i===l.payment_name.length-1}},[e._v(e._s(t))])}),e._l(5-l.payment_name.length,function(e,t){return a("div",{key:t+"aaa",staticClass:"td empty",class:{last:t===4-l.payment_name.length}})})],2):e._e()}),t.payment_info.length?e._e():a("div",[a("div",{staticClass:"td"},[e._v(e._s(t.lvl_name||t.lvl_alias_name))]),e._l(6,function(e,t){return a("div",{key:t+"bbb",staticClass:"td empty",class:{last:5===t}})})],2)],2)}),0):a("div",{staticClass:"no-data"},[e._v("暂无数据")])])])])],1)],1)])},u=[],m=a("8194"),h={components:{Modals:r["a"]},data:function(){return{h5List:[],pcList:[]}},methods:{init:function(){var e=this;Object(m["w"])({siteId:this.$root.nowSite.id}).then(function(t){var a=t.data,l=a.h5,i=a.pc;e.h5List=l,e.pcList=i,e.$refs.paymentListModal.show()})}}},p=h,v=(a("afa2"),a("2877")),f=Object(v["a"])(p,d,u,!1,null,"befaa7c0",null),b=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modals",{ref:"PaymentModifyModal",attrs:{title:"支付设置",width:900}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("Tabs",{attrs:{type:"card",value:"pc"}},[a("TabPane",{attrs:{label:"电脑端",name:"pc"}},[a("div",{staticClass:"modal-overflow"},[a("ul",{},[e._l(e.pcList,function(t,l){return a("li",{key:t.class_id,staticClass:"pt15 pb10"},[a("label",{staticClass:"txt-r ib mr20",staticStyle:{width:"110px"}},[e._v(e._s(t.class_name)+":")]),e._l([0,1,2,3,4],function(i){return a("Select",{key:i,staticClass:"mr20",style:{width:"120px",maxHeight:"150px"},attrs:{clearable:"",placeholder:"选择通道"+(0===i?"一":1===i?"二":2===i?"三":3===i?"四":"五")},on:{"on-clear":function(t){return e.resetSelected("pc",l,i)}},model:{value:t.selected_id.split(",")[i],callback:function(a){e.$set(t.selected_id.split(","),i,a)},expression:"pc.selected_id.split(',')[t]"}},e._l(t.payment_list,function(n){return a("Option",{key:n.id,staticClass:"option-span",attrs:{value:n.id+"",label:n.payName,disabled:t.selected_id.includes(n.id+"")},nativeOn:{click:function(a){return e.onPcChange(l,i,t.class_id,n.id)}}},[e._v("\n                  "+e._s(n.payName)+"\n                ")])}),1)})],2)}),a("Form",[a("Button",{staticClass:"ivu-btn submit btw260 ft20 gd mb60 mt40 bg",staticStyle:{"margin-left":"306px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交保存")])],1)],2)])]),a("TabPane",{attrs:{label:"手机端",name:"mobile"}},[a("div",{staticClass:"modal-overflow"},[a("ul",{},[e._l(e.h5List,function(t,l){return a("li",{key:t.class_id,staticClass:"pt15 pb10"},[a("label",{staticClass:"txt-r ib mr20",staticStyle:{width:"110px"}},[e._v(e._s(t.class_name)+":")]),e._l([0,1,2,3,4],function(i){return a("Select",{key:i,staticClass:"mr20",style:{width:"120px"},attrs:{clearable:"",placeholder:"选择通道"+(0===i?"一":1===i?"二":2===i?"三":3===i?"四":"五")},on:{"on-clear":function(t){return e.resetSelected("h5",l,i)}},model:{value:t.selected_id.split(",")[i],callback:function(a){e.$set(t.selected_id.split(","),i,a)},expression:"h5.selected_id.split(',')[t]"}},e._l(t.payment_list,function(n){return a("Option",{key:n.id,staticClass:"option-span",attrs:{value:n.id+"",label:n.payName,disabled:t.selected_id.includes(n.id+"")},nativeOn:{click:function(a){return e.onH5Change(l,i,t.class_id,n.id)}}},[e._v("\n                  "+e._s(n.payName)+"\n                ")])}),1)})],2)}),a("Form",[a("Button",{staticClass:"ivu-btn submit btw260 ft20 gd mb60 mt40 bg",staticStyle:{"margin-left":"306px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交保存")])],1)],2)])])],1)],1)])},y=[],_=a("f499"),L=a.n(_),x=a("5176"),k=a.n(x),C=(a("6762"),a("2fdb"),{components:{Modals:r["a"]},data:function(){return{formKey:{levelLabel:"",data:{pc:{},h5:{}}},pcList:[],h5List:[],pcSelect:"",h5Select:""}},methods:{resetForm:function(){this.formKey.data.pc={},this.formKey.data.h5={}},init:function(e){var t=this;this.resetForm(),this.formKey.levelLabel=e;var a={siteId:this.$root.nowSite.id,levelLabel:e};Object(m["w"])(a).then(function(e){var a=e.data,l=a.pc,i=a.h5;t.pcList=l,t.h5List=i,t.$refs.PaymentModifyModal.show()})},onPcChange:function(e,t,a,l){this.createData("pc",e,t,a,l)},onH5Change:function(e,t,a,l){this.createData("h5",e,t,a,l)},createData:function(e,t,a,l,i){var n="pc"===e?"pcList":"h5List";if(this[n][t].selected_id.includes(i))return!1;var s=this[n][t].selected_id.split(",");s[a]=i,this[n][t].selected_id=s.join(","),this.formKey.data[e][l]=s.join(",")},submit:function(){var e=this,t=Object(n["a"])({},this.formKey);t.siteId=this.$root.nowSite.id,t.data.pc=this.completeParams("pc"),t.data.h5=this.completeParams("h5"),t=k()(t,this.formKey);var a=t.data;a.pc,a.h5;t.data=L()(t.data),this.$refs.PaymentModifyModal.spinShow(),Object(m["x"])(t).then(function(t){200===t.code&&(e.$Tip.hide(),e.$Message.success("修改".concat(t.data))),e.$refs.PaymentModifyModal.hide(),e.$refs.PaymentModifyModal.spinHide(),e.resetForm()}).catch(function(t){e.$refs.PaymentModifyModal.spinHide()})},completeParams:function(e){var t="pc"===e?"pcList":"h5List",a={};return this[t].forEach(function(e){e.selected_id&&(a[e.class_id]=e.selected_id)}),a},resetStatus:function(){this.dsbBtn()},resetSelected:function(e,t,a){if("pc"!==e)if("h5"!==e);else{var l=this.h5List[t].selected_id.split(",");l[a]=void 0;var i=l.join(",");this.h5List[t].selected_id=i}else{var n=this.pcList[t].selected_id.split(",");n[a]=void 0;var s=n.join(",");this.pcList[t].selected_id=s}}}}),w=C,$=(a("590e"),Object(v["a"])(w,g,y,!1,null,"6214fdf8",null)),D=$.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modals",{ref:"memberLevelDetailModal",attrs:{title:e.modalTitle,width:650}},[a("div",{staticClass:"box",attrs:{slot:"content"},slot:"content"},[a("p",[a("span",[e._v("等级名称：")]),a("span",[e._v(e._s(e.data.levelName))])]),a("p",[a("span",[e._v("等级别称：")]),a("span",[e._v(e._s(e.data.levelAlias))])]),a("p",[a("span",[e._v("会员人数：")]),a("span",[e._v(e._s(e.data.agency_count))])]),a("p",[a("span",[e._v("最小存款：")]),a("span",[e._v(e._s(e.data.minPay))])]),a("p",[a("span",[e._v("打码倍数：")]),a("span",[e._v(e._s(e.data.betAmount))])]),a("p",[a("span",[e._v("最大单笔：")]),a("span",[e._v(e._s(e.data.maxDeposit))])]),a("p",[a("span",[e._v("取款打码倍数：")]),a("span",[e._v(e._s(e.data.multiple))])]),a("p",[a("span",[e._v("彩金奖励：")]),a("span",[e._v(e._s(e.data.giftBonus))])]),a("p",[a("span",[e._v("等级状态：")]),a("span",{class:"yes"===e.data.status?"":"red-font"},[e._v(e._s("yes"===e.data.status?"启用":"停用"))])]),a("p",[a("span",[e._v("备注信息：")]),a("span",[e._v(e._s(e.data.remark||"-"))])]),a("p",[a("span",[e._v("是否默认：")]),a("span",{class:"yes"===e.data.default?"":"red-font"},[e._v(e._s("yes"===e.data.default?"是":"否"))])]),a("p",[a("span",[e._v("创建时间：")]),a("span",[e._v(e._s(e.$root.unixTime(e.data.created_at)))])]),a("p",[a("span",[e._v("更新时间：")]),a("span",[e._v(e._s(e.$root.unixTime(e.data.updated_at)))])])])])},F=[],M={components:{Modals:r["a"]},props:{data:{type:Object,default:function(){}}},data:function(){return{modalTitle:"等级详情"}},methods:{show:function(){this.$refs.memberLevelDetailModal.show()},spinShow:function(){this.$refs.memberLevelDetailModal.spinShow()},spinHide:function(){this.$refs.memberLevelDetailModal.spinHide()}}},T=M,I=(a("f83f"),Object(v["a"])(T,S,F,!1,null,"23e57938",null)),P=I.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modals",{ref:"modifyMemberModal",attrs:{title:"修改会员等级",width:"1500"},on:{modalVisible:e.clearBeforeData}},[a("div",{staticClass:"pt10 pr30 pb20 pl30",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"v2-search"},["super"==e.adminType||-1!=e.authInPage.indexOf("soonModifyMemberList")?a("Form",{ref:"searchKey",attrs:{inline:""}},[a("FormItem",[a("Checkbox",{model:{value:e.searchKey.isLike,callback:function(t){e.$set(e.searchKey,"isLike",t)},expression:"searchKey.isLike"}},[a("span",[e._v("模糊")])])],1),a("FormItem",[a("Select",{staticClass:"s-100",model:{value:e.searchKey.typeTag,callback:function(t){e.$set(e.searchKey,"typeTag",t)},expression:"searchKey.typeTag"}},[a("Option",{attrs:{value:"userName"}},[e._v("会员账号")]),a("Option",{attrs:{value:"agencyName"}},[e._v("上级代理")])],1)],1),a("FormItem",[a("Input",{staticClass:"s-140",attrs:{placeholder:"userName"==e.searchKey.typeTag?"请输入会员账号":"请输入上级代理"},model:{value:e.searchKey.content,callback:function(t){e.$set(e.searchKey,"content",t)},expression:"searchKey.content"}})],1),a("FormItem",[a("Poptip",{staticClass:"ml14f",attrs:{trigger:"hover",content:"多个请以,逗号隔开,仅支持同类型多个输入",placement:"bottom-end"}},[a("Icons",{attrs:{type:"bangzhutishi",color:"#E4E4E4",size:26}})],1)],1),a("FormItem",[a("Button",{staticClass:"search",attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchSubmit}},[e._v("查询")])],1),a("FormItem",{attrs:{label:"修改等级"}},[a("LevelSelect",{ref:"LevelSelect",attrs:{width:140,clearable:"",levelType:"member",disabled:e.levelDisabled,choiceShow:!0},on:{"on-level-change":e.levelChange}})],1),a("FormItem",[a("RadioGroup",{attrs:{size:"large"},model:{value:e.formKey.status,callback:function(t){e.$set(e.formKey,"status",t)},expression:"formKey.status"}},[a("Radio",{attrs:{disabled:e.lockRadioDisabled,label:1}},[e._v("锁定")]),a("Radio",{attrs:{disabled:e.unlockRadioDisabled,label:0}},[e._v("解锁")])],1)],1),a("FormItem",[a("Poptip",{staticClass:"ml14f",attrs:{trigger:"hover",content:"自动晋级，但可手动调节等级",placement:"right-end"}},[a("Icons",{staticClass:"ml0 mr8",attrs:{type:"bangzhutishi",color:"#E4E4E4",size:26}})],1)],1)],1):e._e()],1),a("div",{staticClass:"v2-table modal-overflow"},[a("Tables",{attrs:{columns:e.table.columns,loading:e.table.loading,value:e.table.data,page:e.table.page,total:e.table.total,more:e.table.more,showSizer:!1},on:{"on-page-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange,"on-selection-change":e.onSelectionChange}},[a("div",{staticClass:"clearfix",attrs:{slot:"more"},slot:"more"},[e._v("已选会员"+e._s(e.total)+"人")])])],1),a("div",{staticClass:"mt10"},["super"==e.adminType||-1!=e.authInPage.indexOf("memberLevelModifyBatch")?a("Button",{staticClass:"ivu-btn submit bg",attrs:{type:"primary",disabled:e.submitDisabled},on:{click:e.submit}},[e._v("确认保存")]):e._e()],1)])])],1)},N=[],E=(a("c5f6"),a("4475")),B=a("c276"),j={components:{Modals:r["a"],Icons:s["a"],Tables:c["a"],LevelSelect:E["a"]},data:function(){var e=this;this.$createElement;return{adminType:Object(B["l"])(),authInPage:JSON.parse(localStorage.authInPage),total:0,btnLoading:!1,levelDisabled:!0,lockRadioDisabled:!0,unlockRadioDisabled:!0,submitDisabled:!0,searchKey:{typeTag:"userName",siteId:this.$root.nowSite.id},formKey:{},table:{total:0,more:!0,page:!0,loading:!1,columns:[{type:"selection",width:60,align:"center"},{title:"会员账号",key:"userName",align:"center"},{title:"等级",key:"levelName",align:"center"},{title:"上级代理",key:"agencyName",align:"center"},{title:"公司入款次数",key:"offline_deposit_count",align:"center"},{title:"公司入款总额",key:"offline_deposit_amount",align:"center"},{title:"线上支付次数",key:"online_deposit_count",align:"center"},{title:"线上支付总额",key:"online_deposit_amount",align:"center"},{title:"取款次数",key:"withdrawals_count",align:"center"},{title:"取款总额",key:"withdrawals_amount",align:"center"},{title:"总输赢",key:"net_amount",align:"center"},{title:"锁定",key:"lock",align:"center",render:function(e,t){var a="yes"==t.row.lock?"redText":"",l="yes"==t.row.lock?"已锁定":"未锁定";return e("span",{class:a},[l])}},{title:"操作时间",key:"updated_at",align:"center",width:150,render:function(t,a){return t("span",[e.$root.unixTime(a.row.updated_at)])}}],data:[]}}},methods:{getData:function(e){var t=this;this.btnLoading=!0;var a=e.params.isLike;a&&(e.params.isLike=Number(a)),this.table.loading=!0,Object(m["C"])(e).then(function(e){t.table.loading=!1,t.btnLoading=!1;var a=e.data,l=a.data,i=a.total;t.table.data=l,t.table.total=i})},LevelSelectInit:function(){this.$refs.LevelSelect.init(this.$root.nowSite.id)},onSelectionChange:function(e){this.levelDisabled=!e.length,this.submitDisabled=!e.length,this.total=e.length;var t=e.some(function(e){return"yes"===e.lock}),a=e.some(function(e){return"no"===e.lock});t&&!a?this.unlockRadioDisabled=!1:a&&!t?this.lockRadioDisabled=!1:t&&a?(this.unlockRadioDisabled=!1,this.lockRadioDisabled=!1):(this.unlockRadioDisabled=!0,this.lockRadioDisabled=!0);var l=[];e.forEach(function(e){l.push(e.uid)}),l=l.length>1?l.join(","):l[0],this.formKey.uid=l},show:function(){this.$refs.modifyMemberModal.show()},levelChange:function(e){this.formKey.levelLabel=e.levelLabel,this.formKey.levelName=e.levelName},submit:function(){var e=this,t=Object(n["a"])({},this.formKey);t.siteId=this.$root.nowSite.id,this.$refs.modifyMemberModal.spinShow(),Object(m["q"])(t,!0).then(function(t){200==t.code&&(e.$Message.success("修改会员等级成功"),e.$refs.modifyMemberModal.spinHide(),e.resetLock(),e.searchSubmit(),e.resetField())}).catch(function(t){e.$refs.modifyMemberModal.spinHide()})},searchSubmit:function(){var e=Object(n["a"])({},this.searchKey);for(var t in e)e[t]||delete e[t];if(!e.content)return this.$Tip.error({content:"请输入会员账号"}),void delete e.typeTag;this.getData({params:e})},clearBeforeData:function(e){e||(this.table.data=[],this.table.total=0,this.searchKey.isLike=!1,this.searchKey.content="",this.total=0)},onPageChange:function(e){this.total=0;var t=Object(n["a"])({},this.searchKey);this.getData({params:t,query:{page:e}})},onPageSizeChange:function(e){this.searchKey.limit=e,this.getData({params:this.searchKey})},resetLock:function(){this.levelDisabled=this.lockRadioDisabled=this.unlockRadioDisabled=this.submitDisabled=!0},resetField:function(){this.total=0}}},A=j,K=(a("6669"),Object(v["a"])(A,O,N,!1,null,"acace7e0",null)),R=K.exports,z={name:"memberLevel",components:{Tables:c["a"],PaymentList:b,PaymentModify:D,MemberLevelDetail:P,Modals:r["a"],Icons:s["a"],paymentRadio:o["a"],ModifyMember:R,LevelSelect:E["a"]},data:function(){var e=this,t=(this.$createElement,function(e,t,a){""===t||void 0===t?a(new Error("请选择会员等级")):a()});return{adminType:Object(B["l"])(),authInPage:JSON.parse(localStorage.authInPage),dispatchTitle:"",levelDispatchForm:{},searchKey:{purpose:"list"},datailData:{},defaultChecked:[],methodsList:[{name:"网银在线",value:"wangyinzaixian"},{name:"支付宝线上",value:"zhifubaoxianshang"},{name:"微信线上",value:"weixinxianshang"},{name:"银联支付",value:"yinlianzhifu"}],levelDispatchRules:{minPay:[{required:!0,message:"请输入最小存款",trigger:"blur"}],damabeishu:[{required:!0,message:"请输入打码倍数",trigger:"blur"}],maxSingle:[{required:!0,message:"请输入最大单笔",trigger:"blur"}],paymentMethods:[{required:!0,message:"请选择支付方式",trigger:"blur"}]},table:{page:!1,loading:!0,columns:[{title:"会员等级",key:"levelName",align:"center"},{title:"等级别称",key:"levelAlias",align:"center"},{title:"会员人数",key:"member_count",align:"center"},{title:"存款次数",key:"depositNumber",align:"center"},{title:"最小存款",key:"minPay",align:"center"},{title:"打码倍数",key:"betAmount",align:"center"},{title:"最大单笔",key:"maxDeposit",align:"center"},{title:"取款打码倍数",key:"multiple",align:"center"},{title:"彩金奖励",key:"giftBonus",align:"center"},{title:"创建时间",key:"created_at",align:"center",width:170,render:function(t,a){return t("span",{class:"pl10 pr10"},[e.$root.unixTime(a.row.updated_at)])}},{title:"默认等级",key:"default",align:"center",render:function(e,t){var a="no"!==t.row.default?"":"redText";return e("span",{class:a},"no"==t.row.default?"否":"是")}},{title:"状态",key:"status",align:"center",render:function(e,t){var a=t.row.status;return e("span",{class:"yes"===a?"":"red-font"},["yes"===a?"正常":"停用"])}},{title:"操作",align:"center",width:220,render:function(t,a){return t("div",[t("a",{class:"ib mr10",style:{display:"super"==e.adminType||-1!=e.authInPage.indexOf("memberLevelModifyStatus")?"inline-block":"none"},on:{click:function(){e.changeStatus(a)}}},["yes"==a.row.status?"停用":"启用"]),t("a",{class:"ib mr10",style:{display:"super"==e.adminType||-1!=e.authInPage.indexOf("memberLevelUpdate")?"inline-block":"none"},on:{click:function(){e.onEdit(a)}}},["编辑"]),t("a",{class:"ib mr10",style:{display:"super"==e.adminType||-1!=e.authInPage.indexOf("bindingPaymentChannel")?"inline-block":"none"},on:{click:function(){e.$refs.paymentModify.init(a.row.levelLabel)}}},["支付设置"])])}}],data:[]},rowIndex:"",siteLevelModalTitle:"",memberLevelForm:{siteId:"",siteName:"",id:"",levelLabel:"",levelName:"",levelAlias:"",minPay:"",betAmount:"",maxDeposit:"",multiple:"",giftBonus:"",status:"yes",default:"",remarks:""},memberLevelRule:{levelLabel:[{required:!0,validator:t,trigger:"change"}],levelAlias:[{required:!0,message:"请输入等级别称",trigger:"blur"}],maxDeposit:[{required:!0,message:"请输入正确的最大单笔",trigger:"blur"}],minPay:[{required:!0,message:"请输入正确的最小存款",trigger:"blur"},{pattern:/^[+]{0,1}(\d+)$/,message:"最小存款必须是个整数",trigger:"blur"}],multiple:[{required:!0,message:"请输入正确的取款打码倍数",trigger:"blur"},{message:"取款打码倍数必须为整数",trigger:"blur",pattern:/^[+]{0,1}(\d+)$/}],betAmount:[{required:!0,message:"请输入正确的打码倍数",trigger:"blur"},{message:"打码倍数必须为整数",trigger:"blur",pattern:/^[+]{0,1}(\d+)$/}],giftBonus:[{required:!0,message:"请输入正确的彩金奖励",trigger:"blur"}]}}},watch:{"$root.nowSite":{handler:function(e,t){"memberLevel"===this.$route.name&&this.getData({siteId:e.id,purpose:"list"})},deep:!0,immediate:!0}},methods:{setDefault:function(e){this.memberLevelForm.default="span"==e?"yes"==this.memberLevelForm.default?"no":"yes":e},modifyMemberModal:function(){this.$refs.ModifyMember.show(),this.$refs.ModifyMember.LevelSelectInit()},getData:function(e){var t=this;this.$root.startTableLoading(),Object(m["e"])(e).then(function(e){200===e.code&&(t.table.data=e.data)})},resetMemberLevelForm:function(){for(var e in this.memberLevelForm)this.memberLevelForm[e]=""},createMemberlevel:function(){var e=this;this.$refs.memberLevelForm.resetFields(),this.$refs.LevelSelect.reset("single"),this.siteLevelModalTitle="create",this.resetMemberLevelForm(),this.memberLevelForm.status="yes",this.memberLevelForm.default="no",this.$nextTick(function(){e.$refs.LevelSelect.changeSubType("addLevel"),e.$refs.LevelSelect.init(0)}),this.$refs.siteLevelModal.show()},paymentListModal:function(){this.$refs.paymentList.init()},onEdit:function(e){var t=this;this.rowIndex=e.index,this.siteLevelModalTitle="edit",this.resetMemberLevelForm();var a=e.row,l=a.levelLabel,i=a.levelName,n=["minPay","betAmount","maxDeposit","multiple","giftBonus"];for(var s in this.memberLevelForm){this.memberLevelForm[s]=e.row[s];for(var o=0;o<=n.length;o++)s===n[o]&&(this.memberLevelForm[s]=this.memberLevelForm[s]+"")}this.memberLevelForm.minPay=e.row.minPay.split(".")[0],this.$nextTick(function(){t.$refs.LevelSelect.init(t.$root.nowSite.id,{levelLabel:l,levelName:i})}),this.$refs.siteLevelModal.show()},dispatchLevel:function(e){this.dispatchTitle="等级分配(".concat(e.row.levelAlias,"中会员等级分配)"),this.$refs.levelDispatchModal.show()},dispatchLevelSubmit:function(){this.$refs.levelDispatchModal.hide(),this.$Tip.success({content:"会员等级分配成功",onOk:function(){}})},onDetail:function(e){var t=this;this.$refs.memberLevelDetail.show(),this.$refs.memberLevelDetail.spinShow(),this.datailData={levelName:"",levelAlias:"",agency_count:"",minPay:"",betAmount:"",multiple:"",maxDeposit:"",giftBonus:"",status:"",remark:"",default:"",created_at:"",updated_at:""},setTimeout(function(){for(var a in t.datailData)t.datailData[a]=e.row[a];t.$refs.memberLevelDetail.spinHide()},500)},changeStatus:function(e){var t,a,l=this,i=e.row,n=i.status,s=(i.levelAlias,i.id),o=i.levelName;"yes"===n&&(t="您确定停用".concat(o,"吗？"),a="停用成功".concat(o)),"no"===n&&(t="您确定启用".concat(o,"吗？"),a="启用成功".concat(o));var r={siteId:this.$root.nowSite.id,id:s,statusKey:"status",statusVal:"yes"===n?0:1};this.$Tip.confirm({content:t,onOk:function(){Object(m["c"])(r).then(function(t){200==t.code&&(e.row.status="yes"===n?"no":"yes",l.$Tip.hide(),l.$Message.success(a))})}})},levelChange:function(e){this.memberLevelForm.levelLabel=e.levelLabel,this.memberLevelForm.levelName=e.levelName},submit:function(){var e=this,t=Object(n["a"])({},this.memberLevelForm);t.siteId=this.$root.nowSite.id,t.siteName=this.$root.nowSite.siteName,this.searchKey.siteId=this.$root.nowSite.id,["minPay","betAmount","maxDeposit","multiple","giftBonus","status","default"].forEach(function(e){"status"===e?t[e]="yes"===t[e]?1:0:"default"===e?(t[e]="yes"===t[e]?1:0,1===t[e]&&(t.continue=0)):t[e]=+t[e]}),t.remarks||(t.remarks="暂无备注"),this.$refs.memberLevelForm.validate(function(a){a&&("edit"===e.siteLevelModalTitle&&(e.$refs.siteLevelModal.spinShow(),Object(m["r"])(t).then(function(t){200==t.code&&(e.$Tip.hide(),e.$Message.success(t.data),e.$refs.siteLevelModal.spinHide(),e.$refs.siteLevelModal.hide(),e.getData(e.searchKey))}).catch(function(a){e.$refs.siteLevelModal.spinHide();var l=a.response.data.message;e.$Tip.info({content:l,onOk:function(){t.continue=1,Object(m["r"])(t).then(function(a){if(200==a.code)for(var l in e.$Tip.hide(),e.$Message.success(a.data),e.resetMemberLevelForm(),e.$refs.siteLevelModal.hide(),t.status=1==t.status?"yes":"no",t.default=1==t.default?"yes":"no",t)e.table.data[e.rowIndex][l]=t[l]})}})})),"create"===e.siteLevelModalTitle&&(delete t.id,e.$refs.siteLevelModal.spinShow(),Object(m["p"])(t).then(function(t){200==t.code&&(e.$Tip.hide(),e.$Message.success(t.data),e.resetMemberLevelForm(),e.$refs.siteLevelModal.spinHide(),e.$refs.siteLevelModal.hide(),e.getData(e.searchKey))}).catch(function(t){e.$refs.siteLevelModal.spinHide()})))})}}},H=z,q=(a("5551"),Object(v["a"])(H,l,i,!1,null,"bb6c7d72",null));t["default"]=q.exports},f83f:function(e,t,a){"use strict";var l=a("4904"),i=a.n(l);i.a},fa69:function(e,t,a){"use strict";var l=a("0ef3");t["a"]=l["a"]}}]);