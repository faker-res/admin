(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76a150c7"],{"2cca":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{ref:"sendmessg",attrs:{model:e.sendmessg,rules:e.rules}},[r("FormItem",{staticClass:"ml5 mt20"},[r("span",{staticClass:"ml30"},[e._v("收件人")]),r("ButtonGroup",{staticClass:"ml10"},e._l(e.sendtoList,function(t){return r("Button",{key:t.label,staticClass:"w120x bg-gry",class:e.currentBtn==t.value?"active":"",attrs:{value:t.value,label:t.label,defult:t.label},on:{click:function(r){return e.sendpersor(t.value,t.label)}}},[e._v(e._s(t.label))])}),1)],1),"member"==e.labeltype||"agency"==e.labeltype?r("FormItem",{staticClass:"ml10",attrs:{label:e.defult}},[r("Select",{staticClass:"w600x ",attrs:{filterable:"",multiple:"",remote:"","remote-method":e.remoteMethod2,loading:e.loading2},model:{value:e.sendmessg.sendid,callback:function(t){e.$set(e.sendmessg,"sendid",t)},expression:"sendmessg.sendid"}},e._l(e.options2,function(t,n){return r("Option",{key:n,attrs:{value:t.id}},[e._v(e._s(t.userName))])}),1)],1):e._e(),r("FormItem",{directives:[{name:"show",rawName:"v-show",value:"memberGroup"==e.labeltype,expression:"labeltype=='memberGroup'"}],staticClass:"ml10",attrs:{label:e.defult,prop:"memberGroup"}},[r("LevelSelect",{key:"member",ref:"memberLevelSelect",staticClass:"w260x fl",attrs:{clearable:"",levelType:"member",mode:e.selectval},on:{"on-level-change":e.levelChange}})],1),r("FormItem",{staticClass:"ml10",attrs:{label:"信息标题 ",prop:"title"}},[r("i-input",{staticClass:"w600x",attrs:{type:"text",placeholder:"请输入标题"},model:{value:e.sendmessg.title,callback:function(t){e.$set(e.sendmessg,"title",t)},expression:"sendmessg.title"}})],1),r("FormItem",{staticClass:"message ml10",attrs:{label:"信息内容",prop:"content"}},[r("Input",{staticClass:"w600x",attrs:{type:"textarea",rows:14,placeholder:"请输入信息内容"},model:{value:e.sendmessg.content,callback:function(t){e.$set(e.sendmessg,"content",t)},expression:"sendmessg.content"}})],1),r("Button",{staticClass:"ivu-btn send ft20 ml90",attrs:{type:"primary"},on:{click:e.send}},[e._v("发送")])],1)],1)},a=[],l=(r("6b54"),r("cebc")),u=r("8593"),s=r("f28b"),i=r("4475"),o={name:"sendMessage",components:{LevelSelect:i["a"]},data:function(){return{rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},loading2:!1,currentBtn:"",selectval:"多选",options2:[],sendtoList:[{value:"member",label:"指定会员"},{value:"agency",label:"指定代理"},{value:"memberGroup",label:"会员组"},{value:"memberAll",label:"全部会员"},{value:"agencyAll",label:"全部代理"}],defult:"指定会员",labeltype:"member",sendmessg:{title:"",content:"",send_content:"",sendid:[],memberGroup:""}}},methods:{sendpersor:function(e,t){this.currentBtn=e,this.sendmessg.sendid=[],this.options2=[],this.defult=t,this.labeltype=e,"memberGroup"==this.labeltype&&this.$refs.memberLevelSelect.init(this.$root.nowSite.id)},send:function(){var e=this;this.$refs.sendmessg.validate(function(t){if(t){var r=Object(l["a"])({},e.sendmessg);r.siteId=e.$root.nowSite.id,r.send_type=e.labeltype,0!=r.sendid.length&&(r.sendid.length>1?r.send_content=r.sendid.join(","):r.send_content=r.sendid[0].toString()),"memberAll"!=r.send_type&&"agencyAll"!=r.send_type||delete r.send_content,delete r.sendid,delete r.memberGroup,Object(u["V"])(r).then(function(t){200==t.code&&e.$router.go(-1)})}})},remoteMethod2:function(e){var t=this;if(""!==e){this.options2=[],this.loading2=!0;var r={type:this.labeltype,content:e,siteId:this.$root.nowSite.id};Object(s["i"])(r).then(function(e){t.loading2=!1,t.options2=e.data})}else this.options2=[]},levelChange:function(e){e.levelLabel.length>1?this.sendmessg.send_content=e.levelLabel.join(","):this.sendmessg.send_content=e.levelLabel[0].toString()}}},d=o,c=(r("3407"),r("2877")),m=Object(c["a"])(d,n,a,!1,null,"40353b1d",null);t["default"]=m.exports},3407:function(e,t,r){"use strict";var n=r("5771"),a=r.n(n);a.a},4475:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["单选"===e.mode?r("div",[r("Select",{class:e.className,style:e._width,attrs:{clearable:e.clearable,disabled:e.disabled,placeholder:e.placeholder},model:{value:e.singleData.levelLabel,callback:function(t){e.$set(e.singleData,"levelLabel",t)},expression:"singleData.levelLabel"}},e._l(e.levelList,function(t){return r("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(!!t.levelAlias&&(!e.choiceShow&&t.levelAlias)||t.levelName))])}),1)],1):"多选"===e.mode?r("div",[r("Select",{ref:"selector",class:e.className,style:e._width,attrs:{clearable:e.clearable,multiple:"",disabled:e.disabled,placeholder:e.placeholder},model:{value:e.multipleData.levelLabel,callback:function(t){e.$set(e.multipleData,"levelLabel",t)},expression:"multipleData.levelLabel"}},[e.allModal?r("Option",{attrs:{value:"all"}},[e._v("全部")]):e._e(),e._l(e.levelList,function(t){return r("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(t.levelAlias||t.levelName))])})],2)],1):"单选全部"===e.mode?r("div",[r("Select",{class:e.className,style:e._width,attrs:{clearable:e.clearable,disabled:e.disabled,placeholder:e.placeholder},model:{value:e.singleData.levelLabel,callback:function(t){e.$set(e.singleData,"levelLabel",t)},expression:"singleData.levelLabel"}},[e.allModal?r("Option",{attrs:{value:"all"}},[e._v("全部")]):e._e(),e._l(e.levelList,function(t){return r("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(t.levelAlias||t.levelName))])})],2)],1):e._e()])},a=[],l=r("cebc"),u=(r("ac6a"),r("28a5"),r("96cf"),r("3b8d")),s=(r("6762"),r("2fdb"),r("c5f6"),r("8194")),i=r("f28b"),o={props:{choiceShow:{type:Boolean,default:!1},allModal:{type:Boolean,default:!1},mode:{type:String,default:"单选"},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},width:{type:[String,Number],default:260},levelType:{type:String},className:{type:String}},data:function(){return{singleData:{levelLabel:""},multipleData:{levelLabel:[]},levelList:[],subType:""}},computed:{_width:function(){return"width:"+this.width+"px"}},watch:{"multipleData.levelLabel":function(e,t){!t.includes("all")&&e.includes("all")&&(this.multipleData.levelLabel=["all"]),t.includes("all")&&e.length>1&&this.multipleData.levelLabel.splice(e.indexOf("all"),1)},singleData:{handler:function(e,t){this.singleChange(e)},deep:!0},multipleData:{handler:function(e,t){this.multipleChange(e)},deep:!0},allModal:function(){this.checkAll()}},mounted:function(){this.checkAll()},methods:{checkAll:function(){},setDefaultLevel:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,r){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"单选"===this.mode?(this.singleData.levelLabel=+t,this.singleData.levelName=r,this.$set(this.singleData,"levelLabel",+t)):"string"==typeof t?(n=t.split(","),n.forEach(function(e){a.multipleData.levelLabel.push(Number(e))})):this.multipleData.levelLabel=t;case 1:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("member"!==this.levelType){e.next=11;break}if("addLevel"!==this.subType){e.next=6;break}this.levelList=this.$store.state.info.memberLevelList,this.subType="",e.next=9;break;case 6:return e.next=8,this.getMemberLevel(t,"select");case 8:this.levelList=e.sent;case 9:e.next=18;break;case 11:if("agency"!==this.levelType){e.next=17;break}return e.next=14,this.getAgencyLevel(t,"select");case 14:this.levelList=e.sent,e.next=18;break;case 17:"refund"===this.levelType&&(this.levelList=this.$store.state.info.memberLevelList);case 18:return r&&(n=r.levelLabel,a=r.levelName,this.setDefaultLevel(n,a)),e.abrupt("return",this.levelList);case 20:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),singleChange:function(e){if(this.multipleData.levelLabel.includes("all")){var t={levelLabel:[],levelName:[]},r=[];this.levelList.forEach(function(e){t.levelLabel.push(e.levelLabel),t.levelName.push(e.levelName),r.push(e.levelLabel)}),this.$emit("on-level-change",t)}else{var n=Object(l["a"])({},this.singleData);this.levelList.forEach(function(t){e.levelLabel==t.levelLabel&&(n.levelName=t.levelName,n.id=t.id)}),this.$emit("on-level-change",n)}},multipleChange:function(e){if(this.multipleData.levelLabel.includes("all")){var t={levelLabel:[],levelName:[]},r=[];this.levelList.forEach(function(e){t.levelLabel.push(e.levelLabel),t.levelName.push(e.levelName),r.push(e.levelLabel)}),this.$emit("on-level-change",t)}else{var n=Object(l["a"])({},this.multipleData);n.levelName=[],this.levelList.forEach(function(e){n.levelLabel&&n.levelLabel.forEach(function(t){t==e.levelLabel&&n.levelName.push(e.levelName)})}),this.$emit("on-level-change",n)}},getMemberLevel:function(e,t){var r=this;return Object(s["e"])({siteId:e,purpose:t}).then(function(e){return r.$emit("sendLevelName",e.data),e.data})},getAgencyLevel:function(e,t){return Object(i["l"])({siteId:e,purpose:t}).then(function(e){return e.data})},reset:function(e){"undefined"===typeof e?this.multipleData.levelLabel=[]:"single"===e&&(this.singleData.levelLabel="")},changeSubType:function(e){this.subType=e}}},d=o,c=r("2877"),m=Object(c["a"])(d,n,a,!1,null,null,null),f=m.exports;t["a"]=f},5771:function(e,t,r){},8593:function(e,t,r){"use strict";r.d(t,"mb",function(){return a}),r.d(t,"rb",function(){return l}),r.d(t,"C",function(){return u}),r.d(t,"k",function(){return s}),r.d(t,"Ab",function(){return i}),r.d(t,"hb",function(){return o}),r.d(t,"I",function(){return d}),r.d(t,"J",function(){return c}),r.d(t,"db",function(){return m}),r.d(t,"gb",function(){return f}),r.d(t,"eb",function(){return p}),r.d(t,"fb",function(){return v}),r.d(t,"l",function(){return h}),r.d(t,"H",function(){return b}),r.d(t,"lb",function(){return g}),r.d(t,"nb",function(){return L}),r.d(t,"jb",function(){return q}),r.d(t,"kb",function(){return y}),r.d(t,"tb",function(){return D}),r.d(t,"wb",function(){return w}),r.d(t,"sb",function(){return _}),r.d(t,"ub",function(){return S}),r.d(t,"vb",function(){return k}),r.d(t,"xb",function(){return C}),r.d(t,"x",function(){return x}),r.d(t,"y",function(){return N}),r.d(t,"z",function(){return I}),r.d(t,"K",function(){return M}),r.d(t,"qb",function(){return $}),r.d(t,"D",function(){return A}),r.d(t,"ob",function(){return O}),r.d(t,"pb",function(){return U}),r.d(t,"L",function(){return j}),r.d(t,"ib",function(){return B}),r.d(t,"U",function(){return G}),r.d(t,"V",function(){return T}),r.d(t,"S",function(){return R}),r.d(t,"T",function(){return E}),r.d(t,"W",function(){return F}),r.d(t,"ab",function(){return J}),r.d(t,"Y",function(){return z}),r.d(t,"X",function(){return P}),r.d(t,"bb",function(){return V}),r.d(t,"Z",function(){return W}),r.d(t,"cb",function(){return H}),r.d(t,"P",function(){return K}),r.d(t,"N",function(){return Q}),r.d(t,"M",function(){return X}),r.d(t,"Q",function(){return Y}),r.d(t,"O",function(){return Z}),r.d(t,"R",function(){return ee}),r.d(t,"u",function(){return te}),r.d(t,"s",function(){return re}),r.d(t,"r",function(){return ne}),r.d(t,"v",function(){return ae}),r.d(t,"t",function(){return le}),r.d(t,"w",function(){return ue}),r.d(t,"p",function(){return se}),r.d(t,"A",function(){return ie}),r.d(t,"n",function(){return oe}),r.d(t,"o",function(){return de}),r.d(t,"B",function(){return ce}),r.d(t,"m",function(){return me}),r.d(t,"q",function(){return fe}),r.d(t,"i",function(){return pe}),r.d(t,"h",function(){return ve}),r.d(t,"j",function(){return he}),r.d(t,"f",function(){return be}),r.d(t,"g",function(){return ge}),r.d(t,"e",function(){return Le}),r.d(t,"a",function(){return qe}),r.d(t,"d",function(){return ye}),r.d(t,"c",function(){return De}),r.d(t,"b",function(){return we}),r.d(t,"zb",function(){return _e}),r.d(t,"yb",function(){return Se}),r.d(t,"F",function(){return ke}),r.d(t,"E",function(){return Ce}),r.d(t,"G",function(){return xe});var n=r("66df"),a=function(e){var t=e.params,r=e.query,a={url:"siteManagementList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},l=function(e){var t={url:"/menuSort",method:"post",data:e};return n["a"].request(t)},u=function(e){var t={url:"/menuDel",method:"post",data:e};return n["a"].request(t)},s=function(e){var t={url:"/menuAdd",method:"post",data:e};return n["a"].request(t)},i=function(e){var t={url:"/menuUpdate",method:"post",data:e};return n["a"].request(t)},o=function(e){var t={url:"/permissionSearchUri",method:"post",data:e};return n["a"].request(t)},d=function(e){var t={url:"/permissionList",method:"get",data:e};return n["a"].request(t)},c=function(){var e={url:"/roleList",method:"get"};return n["a"].request(e)},m=function(e){var t={url:"/roleAdd",method:"post",data:e};return n["a"].request(t)},f=function(e){var t={url:"/roleUpdate",method:"post",data:e};return n["a"].request(t)},p=function(e){var t={url:"/roleDel",method:"post",data:e};return n["a"].request(t)},v=function(e){var t={url:"/roleDetail",method:"post",data:e};return n["a"].request(t)},h=function(e){var t={url:"/adminModifyStatus",method:"get",params:e};return n["a"].request(t)},b=function(e){var t=e.params,r=e.query,a={url:"/adminLogList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},g=function(e){var t={url:"siteManagementDetail",method:"get",params:e};return n["a"].request(t)},L=function(e){var t={url:"siteManagementUpdate",method:"post",data:e};return n["a"].request(t)},q=function(e){var t={url:"siteManagementCreate",method:"post",data:e};return n["a"].request(t)},y=function(){var e={url:"siteManagementDbId",method:"get"};return n["a"].request(e)},D=function(e){var t=e.params,r=e.query,a={url:"systemMemberLevelList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},w=function(e){var t=e.params,r=e.query,a={url:"systemMemberRefundLevelList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},_=function(e){var t={url:"systemMemberLevelAdd",method:"post",data:e};return n["a"].request(t)},S=function(e){var t={url:"systemMemberLevelUp",method:"post",data:e};return n["a"].request(t)},k=function(e){var t={url:"systemMemberRefundLevelAdd",method:"post",data:e};return n["a"].request(t)},C=function(e){var t={url:"systemMemberRefundLevelUp",method:"post",data:e};return n["a"].request(t)},x=function(e){var t={url:"blackList",method:"get",params:e};return n["a"].request(t)},N=function(e){var t={url:"blackListCreate",method:"post",data:e};return n["a"].request(t)},I=function(e){var t={url:"blackListDelete",method:"get",params:e};return n["a"].request(t)},M=function(e){var t={url:"/slideList",method:"get",params:e};return n["a"].request(t)},$=function(e){var t={url:"slideIns",method:"post",data:e};return n["a"].request(t)},A=function(e){var t={url:"/slideDel",method:"get",params:e};return n["a"].request(t)},O=function(e){var t={url:"/slideImgInfo",method:"get",params:e};return n["a"].request(t)},U=function(e){var t={url:"slideImgInfoUpt",method:"post",data:e};return n["a"].request(t)},j=function(e){var t=e.params,r=e.query,a={url:"inBox",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},B=function(e){var t=e.params,r=e.query,a={url:"outBox",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},G=function(e){var t={url:"letterReply",method:"post",data:e};return n["a"].request(t)},T=function(e){var t={url:"letterSend",method:"post",data:e};return n["a"].request(t)},R=function(e){var t={url:"letterDel",method:"post",data:e};return n["a"].request(t)},E=function(e){var t={url:"/letterDetail",method:"get",params:e};return n["a"].request(t)},F=function(e){var t={url:"/letterUptRead",method:"get",params:e};return n["a"].request(t)},J=function(e){var t=e.params,r=e.query,a={url:"popupsList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},z=function(e){var t={url:"popupsDetail",method:"get",params:e};return n["a"].request(t)},P=function(e){var t={url:"/popupsDel",method:"get",params:e};return n["a"].request(t)},V=function(e){var t={url:"popupsStatusChange",method:"post",data:e};return n["a"].request(t)},W=function(e){var t={url:"popupsIns",method:"post",data:e};return n["a"].request(t)},H=function(e){var t={url:"popupsUpt",method:"post",data:e};return n["a"].request(t)},K=function(e){var t=e.params,r=e.query,a={url:"lanternList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},Q=function(e){var t={url:"lanternDetail",method:"get",params:e};return n["a"].request(t)},X=function(e){var t={url:"/lanternDel",method:"get",params:e};return n["a"].request(t)},Y=function(e){var t={url:"lanternStatusChange",method:"post",data:e};return n["a"].request(t)},Z=function(e){var t={url:"lanternIns",method:"post",data:e};return n["a"].request(t)},ee=function(e){var t={url:"lanternUpt",method:"post",data:e};return n["a"].request(t)},te=function(e){var t=e.params,r=e.query,a={url:"articleList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},re=function(e){var t={url:"articleDetail",method:"get",params:e};return n["a"].request(t)},ne=function(e){var t={url:"/articleDel",method:"get",params:e};return n["a"].request(t)},ae=function(e){var t={url:"articleStatusChange",method:"post",data:e};return n["a"].request(t)},le=function(e){var t={url:"articleIns",method:"post",data:e};return n["a"].request(t)},ue=function(e){var t={url:"articleUpt",method:"post",data:e};return n["a"].request(t)},se=function(e){var t=e.params,r=e.query,a={url:"adminNewList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},ie=function(e){var t={url:"changePassWord",method:"post",data:e};return n["a"].request(t)},oe=function(e){var t={url:"adminNewDelete",method:"post",data:e};return n["a"].request(t)},de=function(e){var t={url:"adminNewDetail",method:"post",data:e};return n["a"].request(t)},ce=function(e){var t={url:"copyAdmin",method:"post",data:e};return n["a"].request(t)},me=function(e){var t={url:"adminNewAdd",method:"post",data:e};return n["a"].request(t)},fe=function(e){var t={url:"adminNewUpdate",method:"post",data:e};return n["a"].request(t)},pe=function(e){var t=e.params,r=e.query,a={url:"activityList",method:"post",data:t};return r&&(a.params=r),n["a"].request(a)},ve=function(e){var t={url:"activityIns",method:"post",data:e};return n["a"].request(t)},he=function(e){var t={url:"activityUpt",method:"post",data:e};return n["a"].request(t)},be=function(e){var t={url:"/activityDel",method:"get",params:e};return n["a"].request(t)},ge=function(e){var t={url:"/activityDetail",method:"get",params:e};return n["a"].request(t)},Le=function(e){var t={url:"activityChangeStatus",method:"post",data:e};return n["a"].request(t)},qe=function(e){var t={url:"/activityBySort",method:"get",params:e};return n["a"].request(t)},ye=function(e){var t={url:"/activityCateList",method:"get",params:e};return n["a"].request(t)},De=function(e){var t={url:"activityCateIns",method:"post",data:e};return n["a"].request(t)},we=function(e){var t={url:"/activityCateDel",method:"get",params:e};return n["a"].request(t)},_e=function(e){var t={url:"systemSiteGameUp",method:"post",data:e};return n["a"].request(t)},Se=function(e){var t={url:"systemSiteGameList",method:"post",data:e};return n["a"].request(t)},ke=function(e){var t={url:"gameConfigList",method:"post",data:e};return n["a"].request(t)},Ce=function(e){var t={url:"/gameConfigClassification",method:"get",params:e};return n["a"].request(t)},xe=function(e){var t={url:"/gameConfigUpGameStatus",method:"post",data:e};return n["a"].request(t)}}}]);