(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6741266"],{"0013":function(e,t,a){"use strict";var n=a("e698"),i=a.n(n);i.a},"0ef3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Table",{ref:"tablesMain",attrs:{data:e.insideTableData,columns:e.insideColumns,stripe:e.stripe,border:e.border,"show-header":e.showHeader,width:e.width,height:e.height,loading:e.loading,"disabled-hover":e.disabledHover,"highlight-row":e.highlightRow,"row-class-name":e.rowClassName,size:e.size,"no-data-text":e.noDataText,"no-filtered-data-text":e.noFilteredDataText,draggable:e.draggable},on:{"on-current-change":e.onCurrentChange,"on-select":e.onSelect,"on-select-cancel":e.onSelectCancel,"on-select-all":e.onSelectAll,"on-selection-change":e.onSelectionChange,"on-sort-change":e.onSortChange,"on-filter-change":e.onFilterChange,"on-row-click":e.onRowClick,"on-row-dblclick":e.onRowDblclick,"on-expand":e.onExpand,"on-drag-drop":e.onDragDrop}},[e._t("header",null,{slot:"header"}),e._t("footer",null,{slot:"footer"}),e._t("loading",null,{slot:"loading"})],2),a("Row",{staticStyle:{"margin-top":"15px"}},[e.more?a("Col",{attrs:{span:"12"}},[e._t("more")],2):e._e(),a("Col",{attrs:{span:e.more?12:24}},[e.page?a("Page",{attrs:{total:e.total,showTotal:"",current:e.currentpage,"show-sizer":e.showSizer,styles:e.pageStyle,"page-size":e.pageSize,"page-size-opts":e.pageSizeOpts},on:{"update:current":function(t){e.currentpage=t},"on-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange}}):e._e(),e.pageFixShow?a("span",{staticClass:"page-fix"},[e._v("10条/页")]):e._e()],1)],1),a("a",{staticStyle:{display:"none",width:"0px",height:"0px"},attrs:{id:"hrefToExportTable"}})],1)},i=[],r=(a("ac6a"),a("5176")),s=a.n(r),l=(a("c5f6"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tables-edit-outer"},[e.isEditting?a("div",{staticClass:"tables-editting-con"},[a("Input",{staticClass:"tables-edit-input",attrs:{value:e.value},on:{input:e.handleInput}}),a("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:e.saveEdit}},[a("Icon",{attrs:{type:"md-checkmark"}})],1),a("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:e.canceltEdit}},[a("Icon",{attrs:{type:"md-close"}})],1)],1):a("div",{staticClass:"tables-edit-con"},[a("span",{staticClass:"value-con"},[e._v(e._s(e.value))]),e.editable?a("Button",{staticClass:"tables-edit-btn",staticStyle:{padding:"2px 4px"},attrs:{type:"text"},on:{click:e.startEdit}},[a("Icon",{attrs:{type:"md-create"}})],1):e._e()],1)])}),o=[],c={name:"TablesEdit",props:{value:[String,Number],edittingCellId:String,params:Object,editable:Boolean},computed:{isEditting:function(){return this.edittingCellId==="editting-".concat(this.params.index,"-").concat(this.params.column.key)}},methods:{handleInput:function(e){this.$emit("input",e)},startEdit:function(){this.$emit("on-start-edit",this.params)},saveEdit:function(){this.$emit("on-save-edit",this.params)},canceltEdit:function(){this.$emit("on-cancel-edit",this.params)}}},u=c,d=(a("4974"),a("2877")),h=Object(d["a"])(u,l,o,!1,null,null,null),m=h.exports,p={delete:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-delete",t)}}},"删除")},list:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-list",t)}}},"游戏列表")},reply:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-reply",t)}}},"回复")},edit:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-edit",t)}}},"编辑")},details:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-details",t)}}},"详情")},status:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-change-status",t)}}},"yes"===t.row.status?"停用":"启用")},frost:function(e,t,a){return e("a",{style:{margin:"0 5px",color:t.row.agent_type-1>0?"#2D8CF0":"#918b8b"},on:{click:function(){a.$emit("on-change-frost",t)}}},1===t.row.admin_status?"解冻":"冻结")},frostStatus:function(e,t,a){return e("a",{style:{margin:"0 5px",color:t.row.agent_type-1>0?"#2D8CF0":"#918b8b"},on:{click:function(){a.$emit("on-change-frostStatus",t)}}},"yes"===t.row.status?"停用":"启用")},odds:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-check-odds",t)}}},"赔率")},remove:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-remove",t)}}},"移出黑名单")},initialize:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-initialize",t)}}},"初始化")},classStatus:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-change-classStatus",t)}}},"yes"===t.row.classStatus?"停用":"启用")},preview:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-preview",t)}}},"预览")},look:function(e,t,a){return e("a",{style:{margin:"0 5px",color:"#2D8CF0"},on:{click:function(){a.$emit("on-look",t)}}},"查看")}},f=p,v=(a("30d9"),{name:"Tables",props:{value:{type:[Array,Number,String],default:function(){return[]}},columns:{type:Array,default:function(){return[]}},showSizer:{type:Boolean,default:!0},size:String,width:{type:[Number,String]},height:{type:[Number,String]},stripe:{type:Boolean,default:!0},border:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function,default:function(){return""}},context:{type:Object},noDataText:{type:String},noFilteredDataText:{type:String},disabledHover:{type:Boolean},loading:{type:Boolean,default:!1},page:{type:Boolean,default:!0},total:{type:[Number,String],default:0},pageSizeOpts:{type:[Array],default:function(){return[20,30,40,50]}},editable:{type:Boolean,default:!1},more:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},pageFixShow:{type:Boolean,default:!1}},data:function(){return{pageStyle:{textAlign:"right"},insideColumns:[],insideTableData:[],edittingCellId:"",edittingText:"",currentpage:1}},computed:{pageSize:function(){return this.pageSizeOpts[0]}},watch:{columns:function(e){this.handleColumns(e)},value:function(e){this.handleTableData()}},mounted:function(){this.showPageFix(),this.handleColumns(this.columns),this.handleTableData()},methods:{suportEdit:function(e,t){var a=this;return e.render=function(e,t){return e(m,{props:{params:t,value:a.insideTableData[t.index][t.column.key],edittingCellId:a.edittingCellId,editable:a.editable},on:{input:function(e){a.edittingText=e},"on-start-edit":function(e){a.edittingCellId="editting-".concat(e.index,"-").concat(e.column.key),a.$emit("on-start-edit",e)},"on-cancel-edit":function(e){a.edittingCellId="",a.$emit("on-cancel-edit",e)},"on-save-edit":function(e){a.value[e.row.initRowIndex][e.column.key]=a.edittingText,a.$emit("input",a.value),a.$emit("on-save-edit",s()(e,{value:a.edittingText})),a.edittingCellId=""}}})},e},surportHandle:function(e){var t=this,a=e.options||[],n=[];a.forEach(function(e){f[e]&&n.push(f[e])});var i=e.button?[].concat(n,e.button):n;return e.render=function(e,a){return a.tableData=t.value,e("div",i.map(function(n){return n(e,a,t)}))},e},handleColumns:function(e){var t=this;this.insideColumns=e.map(function(e,a){var n=e;return n.editable&&(n=t.suportEdit(n,a)),"handle"===n.key&&(n=t.surportHandle(n)),n})},handleClear:function(e){""===e.target.value&&(this.insideTableData=this.value)},handleTableData:function(){this.insideTableData=this.value.map(function(e,t){var a=e;return a.initRowIndex=t,a})},exportCsv:function(e){this.$refs.tablesMain.exportCsv(e)},clearCurrentRow:function(){this.$refs.talbesMain.clearCurrentRow()},onCurrentChange:function(e,t){this.$emit("on-current-change",e,t)},onSelect:function(e,t){this.$emit("on-select",e,t)},onSelectCancel:function(e,t){this.$emit("on-select-cancel",e,t)},onSelectAll:function(e){this.$emit("on-select-all",e)},onSelectionChange:function(e){this.$emit("on-selection-change",e)},onSortChange:function(e,t,a){this.$emit("on-sort-change",e,t,a)},onFilterChange:function(e){this.$emit("on-filter-change",e)},onRowClick:function(e,t){this.$emit("on-row-click",e,t)},onRowDblclick:function(e,t){this.$emit("on-row-dblclick",e,t)},onExpand:function(e,t,a){this.$emit("on-expand",e,t,a)},onPageChange:function(e){this.$emit("on-page-change",e)},onPageSizeChange:function(e){this.$emit("on-page-size-change",e)},onDragDrop:function(e,t){this.$emit("on-drag-drop",e,t)},setPage:function(){this.currentpage=1},showPageFix:function(){this.pageFixShow&&(this.pageStyle={textAlign:"right",marginRight:"95.35px"})}}}),y=v,g=(a("1e5b"),Object(d["a"])(y,n,i,!1,null,"a62d0182",null));t["a"]=g.exports},"1e5b":function(e,t,a){"use strict";var n=a("35ee"),i=a.n(n);i.a},2178:function(e,t,a){},"30d9":function(e,t,a){},"35ee":function(e,t,a){},4475:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["单选"===e.mode?a("div",[a("Select",{class:e.className,style:e._width,attrs:{clearable:e.clearable,disabled:e.disabled,placeholder:e.placeholder},model:{value:e.singleData.levelLabel,callback:function(t){e.$set(e.singleData,"levelLabel",t)},expression:"singleData.levelLabel"}},e._l(e.levelList,function(t){return a("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(!!t.levelAlias&&(!e.choiceShow&&t.levelAlias)||t.levelName))])}),1)],1):"多选"===e.mode?a("div",[a("Select",{ref:"selector",class:e.className,style:e._width,attrs:{clearable:e.clearable,multiple:"",disabled:e.disabled,placeholder:e.placeholder},model:{value:e.multipleData.levelLabel,callback:function(t){e.$set(e.multipleData,"levelLabel",t)},expression:"multipleData.levelLabel"}},[e.allModal?a("Option",{attrs:{value:"all"}},[e._v("全部")]):e._e(),e._l(e.levelList,function(t){return a("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(t.levelAlias||t.levelName))])})],2)],1):"单选全部"===e.mode?a("div",[a("Select",{class:e.className,style:e._width,attrs:{clearable:e.clearable,disabled:e.disabled,placeholder:e.placeholder},model:{value:e.singleData.levelLabel,callback:function(t){e.$set(e.singleData,"levelLabel",t)},expression:"singleData.levelLabel"}},[e.allModal?a("Option",{attrs:{value:"all"}},[e._v("全部")]):e._e(),e._l(e.levelList,function(t){return a("Option",{key:t.id,attrs:{value:t.levelLabel}},[e._v(e._s(t.levelAlias||t.levelName))])})],2)],1):e._e()])},i=[],r=a("cebc"),s=(a("ac6a"),a("28a5"),a("96cf"),a("3b8d")),l=(a("6762"),a("2fdb"),a("c5f6"),a("8194")),o=a("f28b"),c={props:{choiceShow:{type:Boolean,default:!1},allModal:{type:Boolean,default:!1},mode:{type:String,default:"单选"},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},width:{type:[String,Number],default:260},levelType:{type:String},className:{type:String}},data:function(){return{singleData:{levelLabel:""},multipleData:{levelLabel:[]},levelList:[],subType:""}},computed:{_width:function(){return"width:"+this.width+"px"}},watch:{"multipleData.levelLabel":function(e,t){!t.includes("all")&&e.includes("all")&&(this.multipleData.levelLabel=["all"]),t.includes("all")&&e.length>1&&this.multipleData.levelLabel.splice(e.indexOf("all"),1)},singleData:{handler:function(e,t){this.singleChange(e)},deep:!0},multipleData:{handler:function(e,t){this.multipleChange(e)},deep:!0},allModal:function(){this.checkAll()}},mounted:function(){this.checkAll()},methods:{checkAll:function(){},setDefaultLevel:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,a){var n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"单选"===this.mode?(this.singleData.levelLabel=+t,this.singleData.levelName=a,this.$set(this.singleData,"levelLabel",+t)):"string"==typeof t?(n=t.split(","),n.forEach(function(e){i.multipleData.levelLabel.push(Number(e))})):this.multipleData.levelLabel=t;case 1:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,a){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("member"!==this.levelType){e.next=11;break}if("addLevel"!==this.subType){e.next=6;break}this.levelList=this.$store.state.info.memberLevelList,this.subType="",e.next=9;break;case 6:return e.next=8,this.getMemberLevel(t,"select");case 8:this.levelList=e.sent;case 9:e.next=18;break;case 11:if("agency"!==this.levelType){e.next=17;break}return e.next=14,this.getAgencyLevel(t,"select");case 14:this.levelList=e.sent,e.next=18;break;case 17:"refund"===this.levelType&&(this.levelList=this.$store.state.info.memberLevelList);case 18:return a&&(n=a.levelLabel,i=a.levelName,this.setDefaultLevel(n,i)),e.abrupt("return",this.levelList);case 20:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),singleChange:function(e){if(this.multipleData.levelLabel.includes("all")){var t={levelLabel:[],levelName:[]},a=[];this.levelList.forEach(function(e){t.levelLabel.push(e.levelLabel),t.levelName.push(e.levelName),a.push(e.levelLabel)}),this.$emit("on-level-change",t)}else{var n=Object(r["a"])({},this.singleData);this.levelList.forEach(function(t){e.levelLabel==t.levelLabel&&(n.levelName=t.levelName,n.id=t.id)}),this.$emit("on-level-change",n)}},multipleChange:function(e){if(this.multipleData.levelLabel.includes("all")){var t={levelLabel:[],levelName:[]},a=[];this.levelList.forEach(function(e){t.levelLabel.push(e.levelLabel),t.levelName.push(e.levelName),a.push(e.levelLabel)}),this.$emit("on-level-change",t)}else{var n=Object(r["a"])({},this.multipleData);n.levelName=[],this.levelList.forEach(function(e){n.levelLabel&&n.levelLabel.forEach(function(t){t==e.levelLabel&&n.levelName.push(e.levelName)})}),this.$emit("on-level-change",n)}},getMemberLevel:function(e,t){var a=this;return Object(l["e"])({siteId:e,purpose:t}).then(function(e){return a.$emit("sendLevelName",e.data),e.data})},getAgencyLevel:function(e,t){return Object(o["l"])({siteId:e,purpose:t}).then(function(e){return e.data})},reset:function(e){"undefined"===typeof e?this.multipleData.levelLabel=[]:"single"===e&&(this.singleData.levelLabel="")},changeSubType:function(e){this.subType=e}}},u=c,d=a("2877"),h=Object(d["a"])(u,n,i,!1,null,null,null),m=h.exports;t["a"]=m},4974:function(e,t,a){"use strict";var n=a("2178"),i=a.n(n);i.a},5118:function(e,t,a){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},6017:function(e,t,a){(function(e,t){(function(e,a){"use strict";if(!e.setImmediate){var n,i=1,r={},s=!1,l=e.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(e);o=o&&o.setTimeout?o:e,"[object process]"==={}.toString.call(e.process)?m():p()?f():e.MessageChannel?v():l&&"onreadystatechange"in l.createElement("script")?y():g(),o.setImmediate=c,o.clearImmediate=u}function c(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var s={callback:e,args:t};return r[i]=s,n(i),i++}function u(e){delete r[e]}function d(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(a,n);break}}function h(e){if(s)setTimeout(h,0,e);else{var t=r[e];if(t){s=!0;try{d(t)}finally{u(e),s=!1}}}}function m(){n=function(e){t.nextTick(function(){h(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}function f(){var t="setImmediate$"+Math.random()+"$",a=function(a){a.source===e&&"string"===typeof a.data&&0===a.data.indexOf(t)&&h(+a.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(a){e.postMessage(t+a,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;h(t)},n=function(t){e.port2.postMessage(t)}}function y(){var e=l.documentElement;n=function(t){var a=l.createElement("script");a.onreadystatechange=function(){h(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a)}}function g(){n=function(e){setTimeout(h,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,a("c8ba"),a("4362"))},6864:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"v2-search"},[a("Form",{ref:"searchKey",attrs:{inline:""}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"large"!=e.showMethod,expression:"showMethod != 'large'"}],staticClass:"ml10"},[a("div",{staticClass:"cs",on:{click:function(t){e.showMore=!e.showMore}}},[a("span",[e._v("更多")]),a("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.showMore,expression:"!showMore"}],attrs:{type:"ios-arrow-down",size:"18",color:"#999"}}),a("Icon",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],attrs:{type:"ios-arrow-forward",size:"18",color:"#999"}})],1)]),a("FormItem",{attrs:{label:"刷新"}},[a("Select",{staticClass:"s-86",attrs:{value:e.autoFresh},on:{"on-change":e.changeAuto}},[a("Option",{attrs:{value:"15"}},[e._v("15秒")]),a("Option",{attrs:{value:"30"}},[e._v("30秒")]),a("Option",{attrs:{value:"60"}},[e._v("60秒")]),a("Option",{attrs:{value:"0"}},[e._v("暂停")])],1)],1),a("FormItem",{attrs:{label:"等级"}},[a("LevelSelect",{ref:"LevelSelect",attrs:{placeholder:"全部",width:"80",levelType:"member"},on:{"on-level-change":e.levelChange}})],1),a("FormItem",{attrs:{label:"起止日期"}},[a("DatePicker",{staticClass:"s-120",attrs:{type:"date",placeholder:"开始时间"},model:{value:e.Time[0],callback:function(t){e.$set(e.Time,0,t)},expression:"Time[0]"}}),a("span",{staticClass:"date-divide"}),a("DatePicker",{staticClass:"s-120",attrs:{type:"date",placeholder:"结束时间"},model:{value:e.Time[1],callback:function(t){e.$set(e.Time,1,t)},expression:"Time[1]"}})],1),a("FormItem",{attrs:{label:"订单号"}},[a("Input",{staticClass:"s-140",attrs:{placeholder:"请输入订单号"},model:{value:e.searchKey.code,callback:function(t){e.$set(e.searchKey,"code",t)},expression:"searchKey.code"}})],1),a("FormItem",{staticClass:"pib",attrs:{label:"状态"}},[a("Select",{staticClass:"s-100",attrs:{clearable:"",value:1,placeholder:"全部"},model:{value:e.searchKey.status,callback:function(t){e.$set(e.searchKey,"status",t)},expression:"searchKey.status"}},[a("Option",{attrs:{value:"success"}},[e._v("成功")]),a("Option",{attrs:{value:"fail"}},[e._v("失败")]),a("Option",{attrs:{value:"payment"}},[e._v("交易中")])],1)],1),a("FormItem",{attrs:{label:"会员账号"}},[a("Input",{staticClass:"s-140",attrs:{placeholder:"多个请以,逗号隔开"},model:{value:e.searchKey.userName,callback:function(t){e.$set(e.searchKey,"userName",t)},expression:"searchKey.userName"}})],1),"large"==e.showMethod?a("div",{staticClass:"ib"},[a("FormItem",{staticClass:"ml10",attrs:{label:"支付平台"}},[a("Select",{staticClass:"s-86",attrs:{clearable:""},model:{value:e.searchKey.paymentId,callback:function(t){e.$set(e.searchKey,"paymentId",t)},expression:"searchKey.paymentId"}},e._l(e.payList,function(t,n){return a("Option",{key:n,attrs:{value:t.id}},[e._v(e._s(t.payName))])}),1)],1),a("FormItem",{attrs:{label:"支付方式"}},[a("Select",{staticClass:"s-86",attrs:{clearable:""},model:{value:e.searchKey.typeId,callback:function(t){e.$set(e.searchKey,"typeId",t)},expression:"searchKey.typeId"}},e._l(e.payWay,function(t,n){return a("Option",{key:n,attrs:{value:t.id}},[e._v(e._s(t.className))])}),1)],1),a("FormItem",{attrs:{label:"客户端"}},[a("Select",{attrs:{clearable:"",placeholder:"全部"},model:{value:e.searchKey.terminal,callback:function(t){e.$set(e.searchKey,"terminal",t)},expression:"searchKey.terminal"}},e._l(e.platformList,function(t,n){return a("Option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])}),1)],1),a("FormItem",[a("Button",{staticClass:"search",attrs:{type:"primary",loading:e.$root.searchBtnLoading},on:{click:e.searchSubmit}},[e._v("查询")])],1)],1):e._e(),"middle"==e.showMethod&&e.showMore?a("div",{staticClass:"ml75 mt5 ib"},[a("FormItem",{attrs:{label:"状态"}},[a("Select",{staticClass:"s-100",attrs:{clearable:""},model:{value:e.searchKey.status,callback:function(t){e.$set(e.searchKey,"status",t)},expression:"searchKey.status"}},[a("Option",{attrs:{value:"success"}},[e._v("成功")]),a("Option",{attrs:{value:"fail"}},[e._v("失败")]),a("Option",{attrs:{value:"payment"}},[e._v("交易中")])],1)],1),a("FormItem",{attrs:{label:"支付平台"}},[a("Select",{staticClass:"s-86",attrs:{clearable:""},model:{value:e.searchKey.paymentId,callback:function(t){e.$set(e.searchKey,"paymentId",t)},expression:"searchKey.paymentId"}},e._l(e.payList,function(t,n){return a("Option",{key:n,attrs:{value:t.id}},[e._v(e._s(t.payName))])}),1)],1),a("FormItem",{attrs:{label:"支付方式"}},[a("Select",{staticClass:"s-86",attrs:{clearable:""},model:{value:e.searchKey.typeId,callback:function(t){e.$set(e.searchKey,"typeId",t)},expression:"searchKey.typeId"}},e._l(e.payWay,function(t,n){return a("Option",{key:n,attrs:{value:t.id}},[e._v(e._s(t.name))])}),1)],1),a("FormItem",{attrs:{label:"会员账号"}},[a("Input",{staticClass:"s-140",attrs:{placeholder:"多个请以,逗号隔开"},model:{value:e.searchKey.userName,callback:function(t){e.$set(e.searchKey,"userName",t)},expression:"searchKey.userName"}})],1),a("FormItem",[a("Button",{staticClass:"search",attrs:{type:"primary"}},[e._v("查询")])],1)],1):e._e(),"small"==e.showMethod&&e.showMore?a("div",{staticClass:"ml75 mt5 ib"},[a("FormItem",{attrs:{label:"状态"}},[a("Select",{staticClass:"s-100",attrs:{clearable:""},model:{value:e.searchKey.status,callback:function(t){e.$set(e.searchKey,"status",t)},expression:"searchKey.status"}},[a("Option",[e._v("全部")]),a("Option",{attrs:{value:"success"}},[e._v("成功")]),a("Option",{attrs:{value:"fail"}},[e._v("失败")]),a("Option",{attrs:{value:"pending"}},[e._v("交易中")])],1)],1),a("FormItem",{attrs:{label:"支付平台"}},[a("Select",{staticClass:"s-86",attrs:{clearable:""},model:{value:e.searchKey.paymentId,callback:function(t){e.$set(e.searchKey,"paymentId",t)},expression:"searchKey.paymentId"}},e._l(e.payList,function(t,n){return a("Option",{key:n,attrs:{value:t.id}},[e._v(e._s(t.payName))])}),1)],1),a("FormItem",{attrs:{label:"支付方式"}},[a("Select",{staticClass:"s-86",attrs:{clearable:""},model:{value:e.searchKey.typeId,callback:function(t){e.$set(e.searchKey,"typeId",t)},expression:"searchKey.typeId"}},e._l(e.payWay,function(t,n){return a("Option",{key:n,attrs:{value:t.id}},[e._v(e._s(t.name))])}),1)],1),a("FormItem",{attrs:{label:"会员账号"}},[a("Input",{staticClass:"s-140",attrs:{placeholder:"多个请以,逗号隔开"},model:{value:e.searchKey.userName,callback:function(t){e.$set(e.searchKey,"userName",t)},expression:"searchKey.userName"}})],1),a("FormItem",[a("Button",{staticClass:"search",attrs:{type:"primary",loading:e.$root.searchBtnLoading},on:{click:e.searchSubmit}},[e._v("查询")])],1)],1):e._e()],1)],1),a("div",{staticClass:"v2-table"},[a("Tables",{ref:"tables",attrs:{columns:e.table.columns,loading:e.$root.tableLoading,value:e.table.data,total:e.table.total,more:e.table.more,pageSizeOpts:e.table.pageSizeOpts},on:{"on-page-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange}})],1)])},i=[],r=a("768b"),s=(a("7f7f"),a("cebc")),l=a("fa69"),o=a("83ae"),c=a("4475"),u=a("cd05"),d=a("2934"),h=a("fab6"),m=a("2f62"),p=(a("5118"),{name:"payOnline",mixins:[h["a"]],components:{Tables:l["a"],Icons:o["a"],LevelSelect:c["a"]},computed:Object(s["a"])({},Object(m["d"])({autoFresh:function(e){return e.info.payOnlineFresh},autoFreshTimer:function(e){return e.info.payOnlineTimerpayOnlineTimer}})),data:function(){var e=this;this.$createElement;return{dataDetail:{},platformList:[{value:"pc",name:"PC"},{value:"h5",name:"H5"},{value:"ios",name:"IOS"},{value:"android",name:"Android"}],moreData:{},showWidth:screen.width,showMore:!1,showMethod:"large",searchKey:{},Time:[],payWay:[],payList:[],table:{pageSizeOpts:[20,30,40,50],total:0,columns:[{title:"订单号",key:"code",align:"center"},{title:"等级",key:"levelAlias",align:"center"},{title:"会员账号",key:"username",align:"center"},{title:"支付平台",key:"paymentName",align:"center"},{title:"支付方式",key:"type",align:"center"},{title:"存款金额",key:"amount",align:"center"},{title:"状态",key:"status",align:"center",render:function(e,t){var a="success"===t.row.status?"#36A80C":"fail"===t.row.status?"#FF2626FF":"#0338e4";return e("span",{style:{color:a}},["success"===t.row.status?"成功":"fail"===t.row.status?"失败":"交易中"])}},{title:"操作",align:"center",render:function(t,a){var n={size:"small"};return t("div",[t("Button",{props:n,style:{color:"#fff",backgroundColor:"#2D8CF0",borderRadius:"6px",cursor:"pointer",display:"payment"===a.row.status?"inline-block":"none"},on:{click:function(){e.dataDetail=a.row,e.$Tip.confirm({content:"您确定要继续入款吗",onOk:function(){console.log("确定");var t=a.row,n=t.id,i=t.time,r={id:n,siteId:e.$root.nowSite.id,timestamp:i,depositType:"0",status:"success",paymentBonus:"0"};Object(u["q"])(r).then(function(t){e.searchSubmit()})}})}}},"强制入款"),t("span",{style:{display:"-"==a.row.updateUserName&&"payment"!==a.row.status?"inline-block":"none"}},"-"),t("span",{style:{display:"-"!==a.row.updateUserName?"inline-block":"none"}},"强制入款")])}},{title:"提交时间",key:"time",align:"center",width:170,render:function(t,a){return t("span",{class:"pl10 pr10"},[e.$root.unixTime(a.row.time)])}},{title:"审核时间",key:"updateTime",align:"center",render:function(t,a){return"payment"==a.row.status||"fail"==a.row.status?t("span",["-"]):"success"==a.row.status?t("span",{class:"pl10 pr10"},[e.$root.unixTime(a.row.updateTime)]):void 0}},{title:"审核者",key:"updateUserName",align:"center"},{title:"客户端",key:"terminal",align:"center",width:85}],data:[]}}},watch:{showWidth:function(){this.showWidth>=2195?this.showMethod="large":this.showWidth>=1707?this.showMethod="middle":this.showMethod="small"},nowSite:{handler:function(e,t){var a=this;this.$nextTick(function(){var t=a.$route.name;"payOnline"===t&&a.$refs.LevelSelect.init(e.id)})},deep:!0,immediate:!0}},created:function(){this.getPaymentName(),this.getPayWay(),this.autoFreshFun(this.autoFresh)},beforeDestroy:function(){this.changeFresh({stage:"payOnline",val:this.autoFresh}),this.clearPayOnline("payOnline")},mounted:function(){},methods:Object(s["a"])({},Object(m["b"])(["changeFresh","clearPayOnline","setTimer"]),{changeAuto:function(e){this.changeFresh({stage:"payOnline",val:e}),this.autoFreshFun(e)},getPaymentName:function(){var e=this,t={siteId:this.$root.nowSite.id};Object(d["g"])(t).then(function(t){console.log(t.data),e.payList=t.data})},getPayWay:function(){var e=this,t={classType:"payment"};console.log(),Object(u["x"])(t).then(function(t){e.payWay=t.data})},getData:function(e){var t=this;this.$root.startTableLoading(this),Object(u["s"])(e).then(function(e){if(console.log(e.data.data),e.data.data){var a=e.data.data,n=a.list,i=a.total;t.table.total=e.data.total,t.table.data=n,t.moreData=i}else t.table.data=[],t.table.total=0}).catch(function(e){t.catchError()})},searchSubmit:function(){var e=Object(s["a"])({},this.searchKey);if(console.log(e),e.siteId=this.nowSite.id,!this.$root.validateTime(this.Time))return!1;var t=this.$root.validateTime(this.Time),a=Object(r["a"])(t,2),n=a[0],i=a[1];if(e.startTime=n&&this.$root.formatTime(n),e.endTime=i&&this.$root.formatTime(i),e.userName&&e.userName.length<5)return this.$Tip.info({content:"会员账号最小5个字符！"}),!1;for(var l in this.searchKey.startTime=e.startTime,this.searchKey.endTime=e.endTime,this.$refs.tables.setPage(),e)e[l]||delete e[l];this.getData({params:e})},levelChange:function(e){this.searchKey.levelId=e.id},autoFreshFun:function(e){var t=this,a=Object(s["a"])({},this.searchKey,{siteId:this.$root.nowSite.id});this.getData({params:a}),"0"==e?this.clearPayOnline("payOnline"):(this.clearPayOnline("payOnline"),this.setTimer({stage:"payOnline",time:setInterval(function(){t.getData({params:a})},1e3*e)}))},catchError:function(){this.clearPayOnline("payOnline"),this.changeFresh({stage:"payOnline",val:"0"})}}),activated:function(){this.autoFreshFun(this.autoFresh)},deactivated:function(){this.clearPayOnline("payOnline")}}),f=p,v=(a("0013"),a("2877")),y=Object(v["a"])(f,n,i,!1,null,"11801520",null);t["default"]=y.exports},cd05:function(e,t,a){"use strict";a.d(t,"s",function(){return i}),a.d(t,"r",function(){return r}),a.d(t,"q",function(){return s}),a.d(t,"K",function(){return l}),a.d(t,"J",function(){return o}),a.d(t,"h",function(){return c}),a.d(t,"I",function(){return u}),a.d(t,"t",function(){return d}),a.d(t,"G",function(){return h}),a.d(t,"k",function(){return m}),a.d(t,"m",function(){return p}),a.d(t,"e",function(){return f}),a.d(t,"l",function(){return v}),a.d(t,"j",function(){return y}),a.d(t,"i",function(){return g}),a.d(t,"n",function(){return b}),a.d(t,"D",function(){return w}),a.d(t,"a",function(){return C}),a.d(t,"c",function(){return k}),a.d(t,"d",function(){return T}),a.d(t,"f",function(){return x}),a.d(t,"b",function(){return S}),a.d(t,"u",function(){return $}),a.d(t,"v",function(){return I}),a.d(t,"F",function(){return _}),a.d(t,"g",function(){return O}),a.d(t,"p",function(){return L}),a.d(t,"o",function(){return D}),a.d(t,"y",function(){return F}),a.d(t,"x",function(){return K}),a.d(t,"w",function(){return N}),a.d(t,"B",function(){return q}),a.d(t,"H",function(){return M}),a.d(t,"C",function(){return B}),a.d(t,"E",function(){return j}),a.d(t,"z",function(){return E}),a.d(t,"A",function(){return P});var n=a("66df"),i=function(e){var t=e.params,a=e.query,i={url:"depositOnlineList",method:"post",data:t};return a&&(i.params=a),n["a"].request(i)},r=function(e){var t=e.params,a=e.query,i={url:"depositOfflineList",method:"post",data:t};return a&&(i.params=a),n["a"].request(i)},s=function(e){var t={url:"depositAudit",method:"post",data:e};return n["a"].request(t)},l=function(e){var t=e.params,a=e.query,i={url:"withdrawalsList",method:"post",data:t};return a&&(i.params=a),n["a"].request(i)},o=function(e){var t={url:"withdrawalsDetail",method:"get",params:e};return n["a"].request(t)},c=function(e){var t={url:"checkBetAmount",method:"get",params:e};return n["a"].request(t)},u=function(e){var t={url:"withdrawalsAudit",method:"post",data:e};return n["a"].request(t)},d=function(e){var t=e.params,a=e.query,i={url:"emergencyRecord",method:"post",data:t};return a&&(i.params=a),n["a"].request(i)},h=function(e){var t=e.params,a=e.query,i={url:"transferRecord",method:"post",data:t};return a&&(i.params=a),n["a"].request(i)},m=function(e){var t=e.params,a=e.query,i={url:"companyBankCardList",method:"post",data:t};return a&&(i.params=a),n["a"].request(i)},p=function(e){var t={url:"companyBankCardSequence",method:"post",data:e};return n["a"].request(t)},f=function(e){var t={url:"QRCodeSequence",method:"post",data:e};return n["a"].request(t)},v=function(e){var t={url:"companyBankCardModifyStatus",method:"post",data:e};return n["a"].request(t)},y=function(e){var t={url:"companyBankCardDelete",method:"get",params:e};return n["a"].request(t)},g=function(e){var t={url:"companyBankCardCreate",method:"post",data:e};return n["a"].request(t)},b=function(e){var t={url:"companyBankCardUpdate",method:"post",data:e};return n["a"].request(t)},w=function(e){var t={url:"paymentClassName",method:"get",params:e};return n["a"].request(t)},C=function(e){var t={url:"QRCodeCreate",method:"post",data:e};return n["a"].request(t)},k=function(e){var t={url:"QRCodeList",method:"post",data:e};return n["a"].request(t)},T=function(e){var t={url:"QRCodeModifyStatus",method:"post",data:e};return n["a"].request(t)},x=function(e){var t={url:"QRCodeUpdate",method:"post",data:e};return n["a"].request(t)},S=function(e){var t={url:"QRCodeDelete",method:"get",params:e};return n["a"].request(t)},$=function(e){var t=e.params,a=e.query,i={url:"financeCollection",method:"post",data:t};return a&&(i.params=a),n["a"].request(i)},I=function(){var e={url:"financeType",method:"get"};return n["a"].request(e)},_=function(e){var t=e.params,a=e.query,i={url:"paymentChannelList",method:"post",data:t};return a&&(i.params=a),n["a"].request(i)},O=function(e){var t={url:"paymentChannelModifyStatus",method:"post",data:e};return n["a"].request(t)},L=function(e){var t={url:"paymentChannelDelete",method:"get",params:e};return n["a"].request(t)},D=function(e){var t={url:"paymentChannelCreate",method:"post",data:e};return n["a"].request(t)},F=function(e){var t={url:"paymentName",method:"get",params:e};return n["a"].request(t)},K=function(e){var t={url:"paymentClassName",method:"get",params:e};return n["a"].request(t)},N=function(e){var t={url:"paymentChannelDetail",method:"get",params:e};return n["a"].request(t)},q=function(e){var t={url:"paymentClassList",method:"get",params:e};return n["a"].request(t)},M=function(e){var t={url:"paymentChannelUpdate",method:"post",data:e};return n["a"].request(t)},B=function(e){var t={url:"paymentClassModifyStatus",method:"post",data:e};return n["a"].request(t)},j=function(e){var t={url:"paymentClassUpdate",method:"post",data:e};return n["a"].request(t)},E=function(e){var t={url:"paymentClassCreate",method:"post",data:e};return n["a"].request(t)},P=function(e){var t={url:"paymentClassDelete",method:"get",params:e};return n["a"].request(t)}},e698:function(e,t,a){},fa69:function(e,t,a){"use strict";var n=a("0ef3");t["a"]=n["a"]},fab6:function(e,t,a){"use strict";var n=a("cebc"),i=a("2f62"),r={data:function(){return{Time:[],searchKey:{},page:1,sortParams:{}}},computed:Object(n["a"])({},Object(i["d"])({nowSite:function(e){return e.user.nowSite}})),watch:{},filters:{},mounted:function(){var e={siteId:this.$root.nowSite.id};this.getData({params:Object(n["a"])({},this.searchKey,e)})},methods:{onPageChange:function(e){var t=Object(n["a"])({},this.searchKey,{siteId:this.nowSite.id});for(var a in t)t[a]||delete t[a];delete t.startTime,delete t.endTime,"Invalid date"!==this.$root.formatTimeS(this.Time[0])&&(t.startTime=this.$root.formatTimeS(this.Time[0]),t.endTime=this.$root.formatnightTimeS(this.Time[1])),this.page=e,t=Object(n["a"])({},t,this.sortParams),this.getData({params:t,query:{page:e}})},onPageSizeChange:function(e){this.searchKey.limit=e;var t=Object(n["a"])({},this.searchKey,{siteId:this.nowSite.id,limit:e});for(var a in t)t[a]||delete t[a];delete t.startTime,delete t.endTime,"Invalid date"!==this.$root.formatTimeS(this.Time[0])&&(t.startTime=this.$root.formatTimeS(this.Time[0]),t.endTime=this.$root.formatnightTimeS(this.Time[1])),console.log(t),this.getData({params:t})},sortChange:function(e){e.column;var t=e.key,a=e.order,i={sortKey:t,sortVal:a,siteId:this.$root.nowSite.id};this.searchKey.startTime=this.$root.formatTimeS(this.Time[0]),this.searchKey.endTime=this.$root.formatnightTimeS(this.Time[1]),"normal"===i.sortVal&&(delete i.sortKey,delete i.sortVal),this.sortParams={},this.sortParams=Object(n["a"])({},i),1!==this.page?this.getData({params:Object(n["a"])({},this.searchKey,i),query:{page:this.page}}):this.getData({params:Object(n["a"])({},this.searchKey,i)})},exportExcel:function(){this.$root.exportBtnLoading=!0,this.$root.exportBtnLoading=!1}}};t["a"]=r}}]);